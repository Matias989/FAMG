import{r as b,a as Ms,b as Ds}from"./vendor-Gm9i_4Ku.js";import{u as Gs,a as Ht,L as ce,B as St,R as kt,b as X,N as ye}from"./router-BmGtRZND.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function a(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(n){if(n.ep)return;n.ep=!0;const l=a(n);fetch(n.href,l)}})();var Vt={exports:{}},Be={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Os=b,zs=Symbol.for("react.element"),Ls=Symbol.for("react.fragment"),qs=Object.prototype.hasOwnProperty,Fs=Os.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Us={key:!0,ref:!0,__self:!0,__source:!0};function Jt(t,s,a){var r,n={},l=null,o=null;a!==void 0&&(l=""+a),s.key!==void 0&&(l=""+s.key),s.ref!==void 0&&(o=s.ref);for(r in s)qs.call(s,r)&&!Us.hasOwnProperty(r)&&(n[r]=s[r]);if(t&&t.defaultProps)for(r in s=t.defaultProps,s)n[r]===void 0&&(n[r]=s[r]);return{$$typeof:zs,type:t,key:l,ref:o,props:n,_owner:Fs.current}}Be.Fragment=Ls;Be.jsx=Jt;Be.jsxs=Jt;Vt.exports=Be;var e=Vt.exports,rt={},Ct=Ms;rt.createRoot=Ct.createRoot,rt.hydrateRoot=Ct.hydrateRoot;function Zt(t,s){return function(){return t.apply(s,arguments)}}const{toString:_s}=Object.prototype,{getPrototypeOf:pt}=Object,{iterator:Ie,toStringTag:Wt}=Symbol,$e=(t=>s=>{const a=_s.call(s);return t[a]||(t[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),Q=t=>(t=t.toLowerCase(),s=>$e(s)===t),He=t=>s=>typeof s===t,{isArray:we}=Array,Ee=He("undefined");function Bs(t){return t!==null&&!Ee(t)&&t.constructor!==null&&!Ee(t.constructor)&&H(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Kt=Q("ArrayBuffer");function Is(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&Kt(t.buffer),s}const $s=He("string"),H=He("function"),Xt=He("number"),Ve=t=>t!==null&&typeof t=="object",Hs=t=>t===!0||t===!1,Oe=t=>{if($e(t)!=="object")return!1;const s=pt(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Wt in t)&&!(Ie in t)},Vs=Q("Date"),Js=Q("File"),Zs=Q("Blob"),Ws=Q("FileList"),Ks=t=>Ve(t)&&H(t.pipe),Xs=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||H(t.append)&&((s=$e(t))==="formdata"||s==="object"&&H(t.toString)&&t.toString()==="[object FormData]"))},Ys=Q("URLSearchParams"),[Qs,ea,ta,sa]=["ReadableStream","Request","Response","Headers"].map(Q),aa=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Pe(t,s,{allOwnKeys:a=!1}={}){if(t===null||typeof t>"u")return;let r,n;if(typeof t!="object"&&(t=[t]),we(t))for(r=0,n=t.length;r<n;r++)s.call(null,t[r],r,t);else{const l=a?Object.getOwnPropertyNames(t):Object.keys(t),o=l.length;let i;for(r=0;r<o;r++)i=l[r],s.call(null,t[i],i,t)}}function Yt(t,s){s=s.toLowerCase();const a=Object.keys(t);let r=a.length,n;for(;r-- >0;)if(n=a[r],s===n.toLowerCase())return n;return null}const de=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Qt=t=>!Ee(t)&&t!==de;function nt(){const{caseless:t}=Qt(this)&&this||{},s={},a=(r,n)=>{const l=t&&Yt(s,n)||n;Oe(s[l])&&Oe(r)?s[l]=nt(s[l],r):Oe(r)?s[l]=nt({},r):we(r)?s[l]=r.slice():s[l]=r};for(let r=0,n=arguments.length;r<n;r++)arguments[r]&&Pe(arguments[r],a);return s}const ra=(t,s,a,{allOwnKeys:r}={})=>(Pe(s,(n,l)=>{a&&H(n)?t[l]=Zt(n,a):t[l]=n},{allOwnKeys:r}),t),na=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),la=(t,s,a,r)=>{t.prototype=Object.create(s.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:s.prototype}),a&&Object.assign(t.prototype,a)},ia=(t,s,a,r)=>{let n,l,o;const i={};if(s=s||{},t==null)return s;do{for(n=Object.getOwnPropertyNames(t),l=n.length;l-- >0;)o=n[l],(!r||r(o,t,s))&&!i[o]&&(s[o]=t[o],i[o]=!0);t=a!==!1&&pt(t)}while(t&&(!a||a(t,s))&&t!==Object.prototype);return s},oa=(t,s,a)=>{t=String(t),(a===void 0||a>t.length)&&(a=t.length),a-=s.length;const r=t.indexOf(s,a);return r!==-1&&r===a},ca=t=>{if(!t)return null;if(we(t))return t;let s=t.length;if(!Xt(s))return null;const a=new Array(s);for(;s-- >0;)a[s]=t[s];return a},da=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&pt(Uint8Array)),ua=(t,s)=>{const r=(t&&t[Ie]).call(t);let n;for(;(n=r.next())&&!n.done;){const l=n.value;s.call(t,l[0],l[1])}},ma=(t,s)=>{let a;const r=[];for(;(a=t.exec(s))!==null;)r.push(a);return r},xa=Q("HTMLFormElement"),ha=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,r,n){return r.toUpperCase()+n}),Et=(({hasOwnProperty:t})=>(s,a)=>t.call(s,a))(Object.prototype),pa=Q("RegExp"),es=(t,s)=>{const a=Object.getOwnPropertyDescriptors(t),r={};Pe(a,(n,l)=>{let o;(o=s(n,l,t))!==!1&&(r[l]=o||n)}),Object.defineProperties(t,r)},fa=t=>{es(t,(s,a)=>{if(H(t)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const r=t[a];if(H(r)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},ga=(t,s)=>{const a={},r=n=>{n.forEach(l=>{a[l]=!0})};return we(t)?r(t):r(String(t).split(s)),a},ba=()=>{},ja=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function ya(t){return!!(t&&H(t.append)&&t[Wt]==="FormData"&&t[Ie])}const Na=t=>{const s=new Array(10),a=(r,n)=>{if(Ve(r)){if(s.indexOf(r)>=0)return;if(!("toJSON"in r)){s[n]=r;const l=we(r)?[]:{};return Pe(r,(o,i)=>{const d=a(o,n+1);!Ee(d)&&(l[i]=d)}),s[n]=void 0,l}}return r};return a(t,0)},va=Q("AsyncFunction"),wa=t=>t&&(Ve(t)||H(t))&&H(t.then)&&H(t.catch),ts=((t,s)=>t?setImmediate:s?((a,r)=>(de.addEventListener("message",({source:n,data:l})=>{n===de&&l===a&&r.length&&r.shift()()},!1),n=>{r.push(n),de.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",H(de.postMessage)),Sa=typeof queueMicrotask<"u"?queueMicrotask.bind(de):typeof process<"u"&&process.nextTick||ts,ka=t=>t!=null&&H(t[Ie]),h={isArray:we,isArrayBuffer:Kt,isBuffer:Bs,isFormData:Xs,isArrayBufferView:Is,isString:$s,isNumber:Xt,isBoolean:Hs,isObject:Ve,isPlainObject:Oe,isReadableStream:Qs,isRequest:ea,isResponse:ta,isHeaders:sa,isUndefined:Ee,isDate:Vs,isFile:Js,isBlob:Zs,isRegExp:pa,isFunction:H,isStream:Ks,isURLSearchParams:Ys,isTypedArray:da,isFileList:Ws,forEach:Pe,merge:nt,extend:ra,trim:aa,stripBOM:na,inherits:la,toFlatObject:ia,kindOf:$e,kindOfTest:Q,endsWith:oa,toArray:ca,forEachEntry:ua,matchAll:ma,isHTMLForm:xa,hasOwnProperty:Et,hasOwnProp:Et,reduceDescriptors:es,freezeMethods:fa,toObjectSet:ga,toCamelCase:ha,noop:ba,toFiniteNumber:ja,findKey:Yt,global:de,isContextDefined:Qt,isSpecCompliantForm:ya,toJSONObject:Na,isAsyncFn:va,isThenable:wa,setImmediate:ts,asap:Sa,isIterable:ka};function P(t,s,a,r,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",s&&(this.code=s),a&&(this.config=a),r&&(this.request=r),n&&(this.response=n,this.status=n.status?n.status:null)}h.inherits(P,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:h.toJSONObject(this.config),code:this.code,status:this.status}}});const ss=P.prototype,as={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{as[t]={value:t}});Object.defineProperties(P,as);Object.defineProperty(ss,"isAxiosError",{value:!0});P.from=(t,s,a,r,n,l)=>{const o=Object.create(ss);return h.toFlatObject(t,o,function(d){return d!==Error.prototype},i=>i!=="isAxiosError"),P.call(o,t.message,s,a,r,n),o.cause=t,o.name=t.name,l&&Object.assign(o,l),o};const Ca=null;function lt(t){return h.isPlainObject(t)||h.isArray(t)}function rs(t){return h.endsWith(t,"[]")?t.slice(0,-2):t}function Tt(t,s,a){return t?t.concat(s).map(function(n,l){return n=rs(n),!a&&l?"["+n+"]":n}).join(a?".":""):s}function Ea(t){return h.isArray(t)&&!t.some(lt)}const Ta=h.toFlatObject(h,{},null,function(s){return/^is[A-Z]/.test(s)});function Je(t,s,a){if(!h.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,a=h.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,g){return!h.isUndefined(g[N])});const r=a.metaTokens,n=a.visitor||u,l=a.dots,o=a.indexes,d=(a.Blob||typeof Blob<"u"&&Blob)&&h.isSpecCompliantForm(s);if(!h.isFunction(n))throw new TypeError("visitor must be a function");function c(p){if(p===null)return"";if(h.isDate(p))return p.toISOString();if(h.isBoolean(p))return p.toString();if(!d&&h.isBlob(p))throw new P("Blob is not supported. Use a Buffer instead.");return h.isArrayBuffer(p)||h.isTypedArray(p)?d&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function u(p,N,g){let y=p;if(p&&!g&&typeof p=="object"){if(h.endsWith(N,"{}"))N=r?N:N.slice(0,-2),p=JSON.stringify(p);else if(h.isArray(p)&&Ea(p)||(h.isFileList(p)||h.endsWith(N,"[]"))&&(y=h.toArray(p)))return N=rs(N),y.forEach(function(T,A){!(h.isUndefined(T)||T===null)&&s.append(o===!0?Tt([N],A,l):o===null?N:N+"[]",c(T))}),!1}return lt(p)?!0:(s.append(Tt(g,N,l),c(p)),!1)}const m=[],f=Object.assign(Ta,{defaultVisitor:u,convertValue:c,isVisitable:lt});function S(p,N){if(!h.isUndefined(p)){if(m.indexOf(p)!==-1)throw Error("Circular reference detected in "+N.join("."));m.push(p),h.forEach(p,function(y,k){(!(h.isUndefined(y)||y===null)&&n.call(s,y,h.isString(k)?k.trim():k,N,f))===!0&&S(y,N?N.concat(k):[k])}),m.pop()}}if(!h.isObject(t))throw new TypeError("data must be an object");return S(t),s}function Pt(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return s[r]})}function ft(t,s){this._pairs=[],t&&Je(t,this,s)}const ns=ft.prototype;ns.append=function(s,a){this._pairs.push([s,a])};ns.toString=function(s){const a=s?function(r){return s.call(this,r,Pt)}:Pt;return this._pairs.map(function(n){return a(n[0])+"="+a(n[1])},"").join("&")};function Pa(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ls(t,s,a){if(!s)return t;const r=a&&a.encode||Pa;h.isFunction(a)&&(a={serialize:a});const n=a&&a.serialize;let l;if(n?l=n(s,a):l=h.isURLSearchParams(s)?s.toString():new ft(s,a).toString(r),l){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class At{constructor(){this.handlers=[]}use(s,a,r){return this.handlers.push({fulfilled:s,rejected:a,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){h.forEach(this.handlers,function(r){r!==null&&s(r)})}}const is={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Aa=typeof URLSearchParams<"u"?URLSearchParams:ft,Ra=typeof FormData<"u"?FormData:null,Ma=typeof Blob<"u"?Blob:null,Da={isBrowser:!0,classes:{URLSearchParams:Aa,FormData:Ra,Blob:Ma},protocols:["http","https","file","blob","url","data"]},gt=typeof window<"u"&&typeof document<"u",it=typeof navigator=="object"&&navigator||void 0,Ga=gt&&(!it||["ReactNative","NativeScript","NS"].indexOf(it.product)<0),Oa=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",za=gt&&window.location.href||"http://localhost",La=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:gt,hasStandardBrowserEnv:Ga,hasStandardBrowserWebWorkerEnv:Oa,navigator:it,origin:za},Symbol.toStringTag,{value:"Module"})),I={...La,...Da};function qa(t,s){return Je(t,new I.classes.URLSearchParams,Object.assign({visitor:function(a,r,n,l){return I.isNode&&h.isBuffer(a)?(this.append(r,a.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},s))}function Fa(t){return h.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function Ua(t){const s={},a=Object.keys(t);let r;const n=a.length;let l;for(r=0;r<n;r++)l=a[r],s[l]=t[l];return s}function os(t){function s(a,r,n,l){let o=a[l++];if(o==="__proto__")return!0;const i=Number.isFinite(+o),d=l>=a.length;return o=!o&&h.isArray(n)?n.length:o,d?(h.hasOwnProp(n,o)?n[o]=[n[o],r]:n[o]=r,!i):((!n[o]||!h.isObject(n[o]))&&(n[o]=[]),s(a,r,n[o],l)&&h.isArray(n[o])&&(n[o]=Ua(n[o])),!i)}if(h.isFormData(t)&&h.isFunction(t.entries)){const a={};return h.forEachEntry(t,(r,n)=>{s(Fa(r),n,a,0)}),a}return null}function _a(t,s,a){if(h.isString(t))try{return(s||JSON.parse)(t),h.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(a||JSON.stringify)(t)}const Ae={transitional:is,adapter:["xhr","http","fetch"],transformRequest:[function(s,a){const r=a.getContentType()||"",n=r.indexOf("application/json")>-1,l=h.isObject(s);if(l&&h.isHTMLForm(s)&&(s=new FormData(s)),h.isFormData(s))return n?JSON.stringify(os(s)):s;if(h.isArrayBuffer(s)||h.isBuffer(s)||h.isStream(s)||h.isFile(s)||h.isBlob(s)||h.isReadableStream(s))return s;if(h.isArrayBufferView(s))return s.buffer;if(h.isURLSearchParams(s))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let i;if(l){if(r.indexOf("application/x-www-form-urlencoded")>-1)return qa(s,this.formSerializer).toString();if((i=h.isFileList(s))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Je(i?{"files[]":s}:s,d&&new d,this.formSerializer)}}return l||n?(a.setContentType("application/json",!1),_a(s)):s}],transformResponse:[function(s){const a=this.transitional||Ae.transitional,r=a&&a.forcedJSONParsing,n=this.responseType==="json";if(h.isResponse(s)||h.isReadableStream(s))return s;if(s&&h.isString(s)&&(r&&!this.responseType||n)){const o=!(a&&a.silentJSONParsing)&&n;try{return JSON.parse(s)}catch(i){if(o)throw i.name==="SyntaxError"?P.from(i,P.ERR_BAD_RESPONSE,this,null,this.response):i}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:I.classes.FormData,Blob:I.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};h.forEach(["delete","get","head","post","put","patch"],t=>{Ae.headers[t]={}});const Ba=h.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ia=t=>{const s={};let a,r,n;return t&&t.split(`
`).forEach(function(o){n=o.indexOf(":"),a=o.substring(0,n).trim().toLowerCase(),r=o.substring(n+1).trim(),!(!a||s[a]&&Ba[a])&&(a==="set-cookie"?s[a]?s[a].push(r):s[a]=[r]:s[a]=s[a]?s[a]+", "+r:r)}),s},Rt=Symbol("internals");function Ce(t){return t&&String(t).trim().toLowerCase()}function ze(t){return t===!1||t==null?t:h.isArray(t)?t.map(ze):String(t)}function $a(t){const s=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=a.exec(t);)s[r[1]]=r[2];return s}const Ha=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function et(t,s,a,r,n){if(h.isFunction(r))return r.call(this,s,a);if(n&&(s=a),!!h.isString(s)){if(h.isString(r))return s.indexOf(r)!==-1;if(h.isRegExp(r))return r.test(s)}}function Va(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,a,r)=>a.toUpperCase()+r)}function Ja(t,s){const a=h.toCamelCase(" "+s);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+a,{value:function(n,l,o){return this[r].call(this,s,n,l,o)},configurable:!0})})}let V=class{constructor(s){s&&this.set(s)}set(s,a,r){const n=this;function l(i,d,c){const u=Ce(d);if(!u)throw new Error("header name must be a non-empty string");const m=h.findKey(n,u);(!m||n[m]===void 0||c===!0||c===void 0&&n[m]!==!1)&&(n[m||d]=ze(i))}const o=(i,d)=>h.forEach(i,(c,u)=>l(c,u,d));if(h.isPlainObject(s)||s instanceof this.constructor)o(s,a);else if(h.isString(s)&&(s=s.trim())&&!Ha(s))o(Ia(s),a);else if(h.isObject(s)&&h.isIterable(s)){let i={},d,c;for(const u of s){if(!h.isArray(u))throw TypeError("Object iterator must return a key-value pair");i[c=u[0]]=(d=i[c])?h.isArray(d)?[...d,u[1]]:[d,u[1]]:u[1]}o(i,a)}else s!=null&&l(a,s,r);return this}get(s,a){if(s=Ce(s),s){const r=h.findKey(this,s);if(r){const n=this[r];if(!a)return n;if(a===!0)return $a(n);if(h.isFunction(a))return a.call(this,n,r);if(h.isRegExp(a))return a.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,a){if(s=Ce(s),s){const r=h.findKey(this,s);return!!(r&&this[r]!==void 0&&(!a||et(this,this[r],r,a)))}return!1}delete(s,a){const r=this;let n=!1;function l(o){if(o=Ce(o),o){const i=h.findKey(r,o);i&&(!a||et(r,r[i],i,a))&&(delete r[i],n=!0)}}return h.isArray(s)?s.forEach(l):l(s),n}clear(s){const a=Object.keys(this);let r=a.length,n=!1;for(;r--;){const l=a[r];(!s||et(this,this[l],l,s,!0))&&(delete this[l],n=!0)}return n}normalize(s){const a=this,r={};return h.forEach(this,(n,l)=>{const o=h.findKey(r,l);if(o){a[o]=ze(n),delete a[l];return}const i=s?Va(l):String(l).trim();i!==l&&delete a[l],a[i]=ze(n),r[i]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const a=Object.create(null);return h.forEach(this,(r,n)=>{r!=null&&r!==!1&&(a[n]=s&&h.isArray(r)?r.join(", "):r)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,a])=>s+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...a){const r=new this(s);return a.forEach(n=>r.set(n)),r}static accessor(s){const r=(this[Rt]=this[Rt]={accessors:{}}).accessors,n=this.prototype;function l(o){const i=Ce(o);r[i]||(Ja(n,o),r[i]=!0)}return h.isArray(s)?s.forEach(l):l(s),this}};V.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);h.reduceDescriptors(V.prototype,({value:t},s)=>{let a=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(r){this[a]=r}}});h.freezeMethods(V);function tt(t,s){const a=this||Ae,r=s||a,n=V.from(r.headers);let l=r.data;return h.forEach(t,function(i){l=i.call(a,l,n.normalize(),s?s.status:void 0)}),n.normalize(),l}function cs(t){return!!(t&&t.__CANCEL__)}function Se(t,s,a){P.call(this,t??"canceled",P.ERR_CANCELED,s,a),this.name="CanceledError"}h.inherits(Se,P,{__CANCEL__:!0});function ds(t,s,a){const r=a.config.validateStatus;!a.status||!r||r(a.status)?t(a):s(new P("Request failed with status code "+a.status,[P.ERR_BAD_REQUEST,P.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function Za(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function Wa(t,s){t=t||10;const a=new Array(t),r=new Array(t);let n=0,l=0,o;return s=s!==void 0?s:1e3,function(d){const c=Date.now(),u=r[l];o||(o=c),a[n]=d,r[n]=c;let m=l,f=0;for(;m!==n;)f+=a[m++],m=m%t;if(n=(n+1)%t,n===l&&(l=(l+1)%t),c-o<s)return;const S=u&&c-u;return S?Math.round(f*1e3/S):void 0}}function Ka(t,s){let a=0,r=1e3/s,n,l;const o=(c,u=Date.now())=>{a=u,n=null,l&&(clearTimeout(l),l=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),m=u-a;m>=r?o(c,u):(n=c,l||(l=setTimeout(()=>{l=null,o(n)},r-m)))},()=>n&&o(n)]}const Fe=(t,s,a=3)=>{let r=0;const n=Wa(50,250);return Ka(l=>{const o=l.loaded,i=l.lengthComputable?l.total:void 0,d=o-r,c=n(d),u=o<=i;r=o;const m={loaded:o,total:i,progress:i?o/i:void 0,bytes:d,rate:c||void 0,estimated:c&&i&&u?(i-o)/c:void 0,event:l,lengthComputable:i!=null,[s?"download":"upload"]:!0};t(m)},a)},Mt=(t,s)=>{const a=t!=null;return[r=>s[0]({lengthComputable:a,total:t,loaded:r}),s[1]]},Dt=t=>(...s)=>h.asap(()=>t(...s)),Xa=I.hasStandardBrowserEnv?((t,s)=>a=>(a=new URL(a,I.origin),t.protocol===a.protocol&&t.host===a.host&&(s||t.port===a.port)))(new URL(I.origin),I.navigator&&/(msie|trident)/i.test(I.navigator.userAgent)):()=>!0,Ya=I.hasStandardBrowserEnv?{write(t,s,a,r,n,l){const o=[t+"="+encodeURIComponent(s)];h.isNumber(a)&&o.push("expires="+new Date(a).toGMTString()),h.isString(r)&&o.push("path="+r),h.isString(n)&&o.push("domain="+n),l===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const s=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Qa(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function er(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function us(t,s,a){let r=!Qa(s);return t&&(r||a==!1)?er(t,s):s}const Gt=t=>t instanceof V?{...t}:t;function xe(t,s){s=s||{};const a={};function r(c,u,m,f){return h.isPlainObject(c)&&h.isPlainObject(u)?h.merge.call({caseless:f},c,u):h.isPlainObject(u)?h.merge({},u):h.isArray(u)?u.slice():u}function n(c,u,m,f){if(h.isUndefined(u)){if(!h.isUndefined(c))return r(void 0,c,m,f)}else return r(c,u,m,f)}function l(c,u){if(!h.isUndefined(u))return r(void 0,u)}function o(c,u){if(h.isUndefined(u)){if(!h.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function i(c,u,m){if(m in s)return r(c,u);if(m in t)return r(void 0,c)}const d={url:l,method:l,data:l,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:i,headers:(c,u,m)=>n(Gt(c),Gt(u),m,!0)};return h.forEach(Object.keys(Object.assign({},t,s)),function(u){const m=d[u]||n,f=m(t[u],s[u],u);h.isUndefined(f)&&m!==i||(a[u]=f)}),a}const ms=t=>{const s=xe({},t);let{data:a,withXSRFToken:r,xsrfHeaderName:n,xsrfCookieName:l,headers:o,auth:i}=s;s.headers=o=V.from(o),s.url=ls(us(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),i&&o.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):"")));let d;if(h.isFormData(a)){if(I.hasStandardBrowserEnv||I.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((d=o.getContentType())!==!1){const[c,...u]=d?d.split(";").map(m=>m.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(I.hasStandardBrowserEnv&&(r&&h.isFunction(r)&&(r=r(s)),r||r!==!1&&Xa(s.url))){const c=n&&l&&Ya.read(l);c&&o.set(n,c)}return s},tr=typeof XMLHttpRequest<"u",sr=tr&&function(t){return new Promise(function(a,r){const n=ms(t);let l=n.data;const o=V.from(n.headers).normalize();let{responseType:i,onUploadProgress:d,onDownloadProgress:c}=n,u,m,f,S,p;function N(){S&&S(),p&&p(),n.cancelToken&&n.cancelToken.unsubscribe(u),n.signal&&n.signal.removeEventListener("abort",u)}let g=new XMLHttpRequest;g.open(n.method.toUpperCase(),n.url,!0),g.timeout=n.timeout;function y(){if(!g)return;const T=V.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),x={data:!i||i==="text"||i==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:T,config:t,request:g};ds(function(j){a(j),N()},function(j){r(j),N()},x),g=null}"onloadend"in g?g.onloadend=y:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(y)},g.onabort=function(){g&&(r(new P("Request aborted",P.ECONNABORTED,t,g)),g=null)},g.onerror=function(){r(new P("Network Error",P.ERR_NETWORK,t,g)),g=null},g.ontimeout=function(){let A=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const x=n.transitional||is;n.timeoutErrorMessage&&(A=n.timeoutErrorMessage),r(new P(A,x.clarifyTimeoutError?P.ETIMEDOUT:P.ECONNABORTED,t,g)),g=null},l===void 0&&o.setContentType(null),"setRequestHeader"in g&&h.forEach(o.toJSON(),function(A,x){g.setRequestHeader(x,A)}),h.isUndefined(n.withCredentials)||(g.withCredentials=!!n.withCredentials),i&&i!=="json"&&(g.responseType=n.responseType),c&&([f,p]=Fe(c,!0),g.addEventListener("progress",f)),d&&g.upload&&([m,S]=Fe(d),g.upload.addEventListener("progress",m),g.upload.addEventListener("loadend",S)),(n.cancelToken||n.signal)&&(u=T=>{g&&(r(!T||T.type?new Se(null,t,g):T),g.abort(),g=null)},n.cancelToken&&n.cancelToken.subscribe(u),n.signal&&(n.signal.aborted?u():n.signal.addEventListener("abort",u)));const k=Za(n.url);if(k&&I.protocols.indexOf(k)===-1){r(new P("Unsupported protocol "+k+":",P.ERR_BAD_REQUEST,t));return}g.send(l||null)})},ar=(t,s)=>{const{length:a}=t=t?t.filter(Boolean):[];if(s||a){let r=new AbortController,n;const l=function(c){if(!n){n=!0,i();const u=c instanceof Error?c:this.reason;r.abort(u instanceof P?u:new Se(u instanceof Error?u.message:u))}};let o=s&&setTimeout(()=>{o=null,l(new P(`timeout ${s} of ms exceeded`,P.ETIMEDOUT))},s);const i=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(l):c.removeEventListener("abort",l)}),t=null)};t.forEach(c=>c.addEventListener("abort",l));const{signal:d}=r;return d.unsubscribe=()=>h.asap(i),d}},rr=function*(t,s){let a=t.byteLength;if(a<s){yield t;return}let r=0,n;for(;r<a;)n=r+s,yield t.slice(r,n),r=n},nr=async function*(t,s){for await(const a of lr(t))yield*rr(a,s)},lr=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:a,value:r}=await s.read();if(a)break;yield r}}finally{await s.cancel()}},Ot=(t,s,a,r)=>{const n=nr(t,s);let l=0,o,i=d=>{o||(o=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:c,value:u}=await n.next();if(c){i(),d.close();return}let m=u.byteLength;if(a){let f=l+=m;a(f)}d.enqueue(new Uint8Array(u))}catch(c){throw i(c),c}},cancel(d){return i(d),n.return()}},{highWaterMark:2})},Ze=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",xs=Ze&&typeof ReadableStream=="function",ir=Ze&&(typeof TextEncoder=="function"?(t=>s=>t.encode(s))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),hs=(t,...s)=>{try{return!!t(...s)}catch{return!1}},or=xs&&hs(()=>{let t=!1;const s=new Request(I.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!s}),zt=64*1024,ot=xs&&hs(()=>h.isReadableStream(new Response("").body)),Ue={stream:ot&&(t=>t.body)};Ze&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(s=>{!Ue[s]&&(Ue[s]=h.isFunction(t[s])?a=>a[s]():(a,r)=>{throw new P(`Response type '${s}' is not supported`,P.ERR_NOT_SUPPORT,r)})})})(new Response);const cr=async t=>{if(t==null)return 0;if(h.isBlob(t))return t.size;if(h.isSpecCompliantForm(t))return(await new Request(I.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(h.isArrayBufferView(t)||h.isArrayBuffer(t))return t.byteLength;if(h.isURLSearchParams(t)&&(t=t+""),h.isString(t))return(await ir(t)).byteLength},dr=async(t,s)=>{const a=h.toFiniteNumber(t.getContentLength());return a??cr(s)},ur=Ze&&(async t=>{let{url:s,method:a,data:r,signal:n,cancelToken:l,timeout:o,onDownloadProgress:i,onUploadProgress:d,responseType:c,headers:u,withCredentials:m="same-origin",fetchOptions:f}=ms(t);c=c?(c+"").toLowerCase():"text";let S=ar([n,l&&l.toAbortSignal()],o),p;const N=S&&S.unsubscribe&&(()=>{S.unsubscribe()});let g;try{if(d&&or&&a!=="get"&&a!=="head"&&(g=await dr(u,r))!==0){let x=new Request(s,{method:"POST",body:r,duplex:"half"}),w;if(h.isFormData(r)&&(w=x.headers.get("content-type"))&&u.setContentType(w),x.body){const[j,v]=Mt(g,Fe(Dt(d)));r=Ot(x.body,zt,j,v)}}h.isString(m)||(m=m?"include":"omit");const y="credentials"in Request.prototype;p=new Request(s,{...f,signal:S,method:a.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:y?m:void 0});let k=await fetch(p,f);const T=ot&&(c==="stream"||c==="response");if(ot&&(i||T&&N)){const x={};["status","statusText","headers"].forEach(E=>{x[E]=k[E]});const w=h.toFiniteNumber(k.headers.get("content-length")),[j,v]=i&&Mt(w,Fe(Dt(i),!0))||[];k=new Response(Ot(k.body,zt,j,()=>{v&&v(),N&&N()}),x)}c=c||"text";let A=await Ue[h.findKey(Ue,c)||"text"](k,t);return!T&&N&&N(),await new Promise((x,w)=>{ds(x,w,{data:A,headers:V.from(k.headers),status:k.status,statusText:k.statusText,config:t,request:p})})}catch(y){throw N&&N(),y&&y.name==="TypeError"&&/Load failed|fetch/i.test(y.message)?Object.assign(new P("Network Error",P.ERR_NETWORK,t,p),{cause:y.cause||y}):P.from(y,y&&y.code,t,p)}}),ct={http:Ca,xhr:sr,fetch:ur};h.forEach(ct,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const Lt=t=>`- ${t}`,mr=t=>h.isFunction(t)||t===null||t===!1,ps={getAdapter:t=>{t=h.isArray(t)?t:[t];const{length:s}=t;let a,r;const n={};for(let l=0;l<s;l++){a=t[l];let o;if(r=a,!mr(a)&&(r=ct[(o=String(a)).toLowerCase()],r===void 0))throw new P(`Unknown adapter '${o}'`);if(r)break;n[o||"#"+l]=r}if(!r){const l=Object.entries(n).map(([i,d])=>`adapter ${i} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=s?l.length>1?`since :
`+l.map(Lt).join(`
`):" "+Lt(l[0]):"as no adapter specified";throw new P("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:ct};function st(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Se(null,t)}function qt(t){return st(t),t.headers=V.from(t.headers),t.data=tt.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),ps.getAdapter(t.adapter||Ae.adapter)(t).then(function(r){return st(t),r.data=tt.call(t,t.transformResponse,r),r.headers=V.from(r.headers),r},function(r){return cs(r)||(st(t),r&&r.response&&(r.response.data=tt.call(t,t.transformResponse,r.response),r.response.headers=V.from(r.response.headers))),Promise.reject(r)})}const fs="1.10.0",We={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{We[t]=function(r){return typeof r===t||"a"+(s<1?"n ":" ")+t}});const Ft={};We.transitional=function(s,a,r){function n(l,o){return"[Axios v"+fs+"] Transitional option '"+l+"'"+o+(r?". "+r:"")}return(l,o,i)=>{if(s===!1)throw new P(n(o," has been removed"+(a?" in "+a:"")),P.ERR_DEPRECATED);return a&&!Ft[o]&&(Ft[o]=!0,console.warn(n(o," has been deprecated since v"+a+" and will be removed in the near future"))),s?s(l,o,i):!0}};We.spelling=function(s){return(a,r)=>(console.warn(`${r} is likely a misspelling of ${s}`),!0)};function xr(t,s,a){if(typeof t!="object")throw new P("options must be an object",P.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let n=r.length;for(;n-- >0;){const l=r[n],o=s[l];if(o){const i=t[l],d=i===void 0||o(i,l,t);if(d!==!0)throw new P("option "+l+" must be "+d,P.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new P("Unknown option "+l,P.ERR_BAD_OPTION)}}const Le={assertOptions:xr,validators:We},se=Le.validators;let ue=class{constructor(s){this.defaults=s||{},this.interceptors={request:new At,response:new At}}async request(s,a){try{return await this._request(s,a)}catch(r){if(r instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const l=n.stack?n.stack.replace(/^.+\n/,""):"";try{r.stack?l&&!String(r.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+l):r.stack=l}catch{}}throw r}}_request(s,a){typeof s=="string"?(a=a||{},a.url=s):a=s||{},a=xe(this.defaults,a);const{transitional:r,paramsSerializer:n,headers:l}=a;r!==void 0&&Le.assertOptions(r,{silentJSONParsing:se.transitional(se.boolean),forcedJSONParsing:se.transitional(se.boolean),clarifyTimeoutError:se.transitional(se.boolean)},!1),n!=null&&(h.isFunction(n)?a.paramsSerializer={serialize:n}:Le.assertOptions(n,{encode:se.function,serialize:se.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),Le.assertOptions(a,{baseUrl:se.spelling("baseURL"),withXsrfToken:se.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let o=l&&h.merge(l.common,l[a.method]);l&&h.forEach(["delete","get","head","post","put","patch","common"],p=>{delete l[p]}),a.headers=V.concat(o,l);const i=[];let d=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(a)===!1||(d=d&&N.synchronous,i.unshift(N.fulfilled,N.rejected))});const c=[];this.interceptors.response.forEach(function(N){c.push(N.fulfilled,N.rejected)});let u,m=0,f;if(!d){const p=[qt.bind(this),void 0];for(p.unshift.apply(p,i),p.push.apply(p,c),f=p.length,u=Promise.resolve(a);m<f;)u=u.then(p[m++],p[m++]);return u}f=i.length;let S=a;for(m=0;m<f;){const p=i[m++],N=i[m++];try{S=p(S)}catch(g){N.call(this,g);break}}try{u=qt.call(this,S)}catch(p){return Promise.reject(p)}for(m=0,f=c.length;m<f;)u=u.then(c[m++],c[m++]);return u}getUri(s){s=xe(this.defaults,s);const a=us(s.baseURL,s.url,s.allowAbsoluteUrls);return ls(a,s.params,s.paramsSerializer)}};h.forEach(["delete","get","head","options"],function(s){ue.prototype[s]=function(a,r){return this.request(xe(r||{},{method:s,url:a,data:(r||{}).data}))}});h.forEach(["post","put","patch"],function(s){function a(r){return function(l,o,i){return this.request(xe(i||{},{method:s,headers:r?{"Content-Type":"multipart/form-data"}:{},url:l,data:o}))}}ue.prototype[s]=a(),ue.prototype[s+"Form"]=a(!0)});let hr=class gs{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(l){a=l});const r=this;this.promise.then(n=>{if(!r._listeners)return;let l=r._listeners.length;for(;l-- >0;)r._listeners[l](n);r._listeners=null}),this.promise.then=n=>{let l;const o=new Promise(i=>{r.subscribe(i),l=i}).then(n);return o.cancel=function(){r.unsubscribe(l)},o},s(function(l,o,i){r.reason||(r.reason=new Se(l,o,i),a(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const a=this._listeners.indexOf(s);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const s=new AbortController,a=r=>{s.abort(r)};return this.subscribe(a),s.signal.unsubscribe=()=>this.unsubscribe(a),s.signal}static source(){let s;return{token:new gs(function(n){s=n}),cancel:s}}};function pr(t){return function(a){return t.apply(null,a)}}function fr(t){return h.isObject(t)&&t.isAxiosError===!0}const dt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(dt).forEach(([t,s])=>{dt[s]=t});function bs(t){const s=new ue(t),a=Zt(ue.prototype.request,s);return h.extend(a,ue.prototype,s,{allOwnKeys:!0}),h.extend(a,s,null,{allOwnKeys:!0}),a.create=function(n){return bs(xe(t,n))},a}const q=bs(Ae);q.Axios=ue;q.CanceledError=Se;q.CancelToken=hr;q.isCancel=cs;q.VERSION=fs;q.toFormData=Je;q.AxiosError=P;q.Cancel=q.CanceledError;q.all=function(s){return Promise.all(s)};q.spread=pr;q.isAxiosError=fr;q.mergeConfig=xe;q.AxiosHeaders=V;q.formToJSON=t=>os(h.isHTMLForm(t)?new FormData(t):t);q.getAdapter=ps.getAdapter;q.HttpStatusCode=dt;q.default=q;const{Axios:dn,AxiosError:un,CanceledError:mn,isCancel:xn,CancelToken:hn,VERSION:pn,all:fn,Cancel:gn,isAxiosError:bn,spread:jn,toFormData:yn,AxiosHeaders:Nn,HttpStatusCode:vn,formToJSON:wn,getAdapter:Sn,mergeConfig:kn}=q,gr="http://localhost:4000/api",z=q.create({baseURL:gr,headers:{"Content-Type":"application/json"}});z.interceptors.request.use(t=>{const s=localStorage.getItem("token");return s&&(t.headers.Authorization=`Bearer ${s}`),t},t=>Promise.reject(t));z.interceptors.response.use(t=>t,t=>{var s,a;throw((s=t.response)==null?void 0:s.status)===401&&(localStorage.removeItem("token"),window.location.pathname!=="/auth"&&(window.location.href="/auth")),console.error("API Error:",((a=t.response)==null?void 0:a.data)||t.message),t});const U={async register(t){try{const s=await z.post("/auth/register",t);return s.data.token&&localStorage.setItem("token",s.data.token),s.data}catch(s){throw console.error("Error en registro:",s),s}},async login(t,s){try{const a=await z.post("/auth/login",{albionNick:t,password:s});return a.data.token&&localStorage.setItem("token",a.data.token),a.data}catch(a){throw console.error("Error en login:",a),a}},logout(){localStorage.removeItem("token")},getToken(){return localStorage.getItem("token")},isAuthenticated(){return!!this.getToken()},async getProfile(){try{return(await z.get("/auth/profile")).data}catch(t){throw console.error("Error al obtener perfil:",t),t}},async updateProfile(t){try{return(await z.put("/auth/profile",t)).data}catch(s){throw console.error("Error al actualizar perfil:",s),s}},async searchUsers(t){try{return(await z.get(`/auth/search?q=${encodeURIComponent(t)}`)).data}catch(s){throw console.error("Error al buscar usuarios:",s),s}},async verifyToken(){try{return(await z.get("/auth/verify")).data.valid}catch(t){return console.error("Error al verificar token:",t),!1}}},js=b.createContext(),fe=()=>{const t=b.useContext(js);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},br=({children:t})=>{const[s,a]=b.useState(null),[r,n]=b.useState(!0);b.useEffect(()=>{l()},[]);const l=async()=>{try{if(U.getToken())if(await U.verifyToken()){const p=await U.getProfile();a(p)}else U.logout(),a(null)}catch(f){console.error("Error checking auth status:",f),U.logout(),a(null)}finally{n(!1)}},m={user:s,loading:r,login:async(f,S)=>{try{const p=await U.login(f,S),N=await U.getProfile();return a(N),{...p,user:N}}catch(p){throw p}},register:async f=>{try{const S=await U.register(f),p=await U.getProfile();return a(p),{...S,user:p}}catch(S){throw S}},logout:()=>{U.logout(),a(null)},updateProfile:async f=>{try{const S=await U.updateProfile(f),p=await U.getProfile();return a(p),p}catch(S){throw S}},searchUsers:async f=>{try{return await U.searchUsers(f)}catch(S){throw S}},isAuthenticated:!!s};return e.jsx(js.Provider,{value:m,children:t})},ys=b.createContext(),ee=()=>{const t=b.useContext(ys);if(!t)throw new Error("useNotification debe ser usado dentro de un NotificationProvider");return t},jr=({children:t})=>{const[s,a]=b.useState([]),r=(o,i="info",d=5e3)=>{const c=`${Date.now()}-${Math.random().toString(36).substr(2,9)}`,u={id:c,message:o,type:i,duration:d};a(m=>[...m,u]),setTimeout(()=>{n(c)},d)},n=o=>{a(i=>i.filter(d=>d.id!==o))},l={notifications:s,showNotification:r,removeNotification:n};return e.jsxs(ys.Provider,{value:l,children:[t,e.jsx(yr,{})]})},yr=()=>{const{notifications:t,removeNotification:s}=ee();return e.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:t.map(a=>e.jsxs("div",{className:`p-4 rounded-lg shadow-lg max-w-sm animate-slide-in ${a.type==="success"?"bg-green-600":a.type==="error"?"bg-red-600":a.type==="warning"?"bg-yellow-600":"bg-albion-600"} text-white flex items-center gap-3`,children:[e.jsx("span",{className:"text-lg",children:a.type==="success"?"✅":a.type==="error"?"❌":a.type==="warning"?"⚠️":"ℹ️"}),e.jsx("span",{className:"flex-1",children:a.message}),e.jsx("button",{onClick:()=>s(a.id),className:"text-white/70 hover:text-white",children:"✕"})]},a.id))})},W={async getAllActivities(){try{return(await z.get("/activities")).data}catch(t){throw console.error("Error al obtener actividades:",t),t}},async getActivityById(t){try{return(await z.get(`/activities/${t}`)).data}catch(s){throw console.error("Error al obtener actividad:",s),s}},async createActivity(t,s){try{const a=s==="group"?"/groups":"/events";return(await z.post(a,t)).data}catch(a){throw console.error(`Error al crear ${s}:`,a),a}},async updateActivity(t,s,a){try{const r=a==="group"?"/groups":"/events";return(await z.put(`${r}/${t}`,s)).data}catch(r){throw console.error(`Error al actualizar ${a}:`,r),r}},async deleteActivity(t,s){try{const a=s==="group"?"/groups":"/events";return(await z.delete(`${a}/${t}`)).data}catch(a){throw console.error(`Error al eliminar ${s}:`,a),a}},async getGroups(){try{return(await z.get("/groups")).data}catch(t){throw console.error("Error al obtener grupos:",t),t}},async createGroup(t){try{return(await z.post("/groups",t)).data}catch(s){throw console.error("Error al crear grupo:",s),s}},async updateGroup(t,s){try{return(await z.put(`/groups/${t}`,s)).data}catch(a){throw console.error("Error al actualizar grupo:",a),a}},async deleteGroup(t){try{return(await z.delete(`/groups/${t}`)).data}catch(s){throw console.error("Error al eliminar grupo:",s),s}},async addMemberToGroup(t,s){try{return(await z.post(`/groups/${t}/members`,s)).data}catch(a){throw console.error("Error al agregar miembro al grupo:",a),a}},async removeMemberFromGroup(t,s){try{return(await z.delete(`/groups/${t}/members/${s}`)).data}catch(a){throw console.error("Error al remover miembro del grupo:",a),a}},async getEvents(){try{return(await z.get("/events")).data}catch(t){throw console.error("Error al obtener eventos:",t),t}},async getUpcomingEvents(){try{return(await z.get("/events/upcoming")).data}catch(t){throw console.error("Error al obtener eventos próximos:",t),t}},async createEvent(t){try{return(await z.post("/events",t)).data}catch(s){throw console.error("Error al crear evento:",s),s}},async updateEvent(t,s){try{return(await z.put(`/events/${t}`,s)).data}catch(a){throw console.error("Error al actualizar evento:",a),a}},async deleteEvent(t){try{return(await z.delete(`/events/${t}`)).data}catch(s){throw console.error("Error al eliminar evento:",s),s}},async confirmAttendance(t,s){try{return(await z.post(`/events/${t}/confirm`,s)).data}catch(a){throw console.error("Error al confirmar asistencia:",a),a}},async cancelAttendance(t,s){try{return(await z.post(`/events/${t}/cancel`,{userId:s})).data}catch(a){throw console.error("Error al cancelar asistencia:",a),a}},async applyTemplate(t,s,a){try{const r=a==="group"?"/groups":"/events";return(await z.put(`${r}/${t}`,{template:s})).data}catch(r){throw console.error("Error al aplicar plantilla:",r),r}}},$={async getGroups(){return await W.getGroups()},async createGroup(t){return await W.createGroup(t)},async updateGroup(t,s){return await W.updateGroup(t,s)},async deleteGroup(t){return await W.deleteGroup(t)},async addMemberToGroup(t,s){return await W.addMemberToGroup(t,s)},async removeMemberFromGroup(t,s){return await W.removeMemberFromGroup(t,s)},async getActiveGroupByUserId(t){const s=await fetch(`/api/groups/active/${t}`);if(!s.ok)throw new Error("No se pudo obtener el grupo activo");return await s.json()}};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Nr={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),M=(t,s)=>{const a=b.forwardRef(({color:r="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:i="",children:d,...c},u)=>b.createElement("svg",{ref:u,...Nr,width:n,height:n,stroke:r,strokeWidth:o?Number(l)*24/Number(n):l,className:["lucide",`lucide-${vr(t)}`,i].join(" "),...c},[...s.map(([m,f])=>b.createElement(m,f)),...Array.isArray(d)?d:[d]]));return a.displayName=`${t}`,a};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=M("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=M("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=M("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=M("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=M("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=M("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=M("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=M("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=M("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=M("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=M("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=M("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=M("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=M("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=M("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=M("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=M("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Er=M("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=M("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=M("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=M("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=M("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=M("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=M("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=M("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=M("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=M("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=M("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=M("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=M("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=M("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=M("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=M("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=M("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=M("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=M("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=M("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=M("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Ar=()=>{const{user:t,logout:s}=fe(),{showNotification:a}=ee(),r=Gs(),n=Ht(),[l,o]=b.useState(!1),[i,d]=b.useState([]),[c,u]=b.useState([]),m=()=>{s(),a("Sesión cerrada exitosamente","success"),n("/auth")};b.useEffect(()=>{t&&f()},[t]);const f=async()=>{try{const y=await $.getGroups();d(y);const k=(t==null?void 0:t.role)||"Tanque",T=y.filter(A=>{if(A.status!=="Activo")return!1;const x=A.slots&&A.slots.filter(w=>!w.user&&w.role===k);return x&&x.length>0});u(T)}catch(y){console.error("Error loading groups:",y)}};i.some(y=>y.status==="Activo"&&y.slots&&y.slots.some(k=>k.user&&k.user.albionNick===(t==null?void 0:t.albionNick)));const S=[{path:"/dashboard",label:"Dashboard",icon:kr},{path:"/groups",label:"Grupos",icon:ae},{path:"/calculator",label:"Calculadora",icon:qe},...t!=null&&t.isAdmin?[{path:"/templates",label:"Plantillas",icon:Ke}]:[]],p=y=>r.pathname===y,N=()=>t?t.albionNick||t.username||"Usuario":"",g=()=>!t||!t.roles||t.roles.length===0?null:t.roles.find(k=>k.isPrimary)||t.roles[0];return e.jsx(e.Fragment,{children:e.jsx("nav",{className:"fixed top-0 left-0 right-0 z-40 bg-dark-900/80 backdrop-blur-lg border-b border-dark-700/50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs(ce,{to:"/dashboard",className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-2xl glow",children:"⚔️"}),e.jsx("span",{className:"text-xl font-bold text-gradient",children:"Albion Group Manager"})]}),e.jsx("div",{className:"hidden md:flex items-center space-x-1",children:S.map(y=>{const k=y.icon;return e.jsxs(ce,{to:y.path,className:`nav-link ${p(y.path)?"active":""}`,children:[e.jsx(k,{size:20}),y.label]},y.path)})}),e.jsx("div",{className:"hidden md:flex items-center space-x-4",children:t?e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs(ce,{to:"/profile",className:"flex items-center space-x-3 hover:opacity-80 transition-opacity",children:[e.jsx("div",{className:"text-2xl",children:"⚔️"}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-semibold text-white",children:N()}),g()&&e.jsxs("div",{className:"text-xs text-gray-400 flex items-center gap-1",children:[g().type," - Nivel ",t.level]})]})]})}),e.jsxs("button",{onClick:m,className:"btn btn-danger",children:[e.jsx(mt,{size:20}),"Salir"]})]}):e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs(ce,{to:"/auth",className:"btn btn-primary",children:[e.jsx(_t,{size:20}),"Iniciar Sesión"]})})}),e.jsx("button",{onClick:()=>o(!l),className:"md:hidden p-2 rounded-lg text-dark-300 hover:text-white hover:bg-dark-700/50",children:l?e.jsx(J,{size:24}):e.jsx(Er,{size:24})})]}),l&&e.jsx("div",{className:"md:hidden",children:e.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 bg-dark-800/50 rounded-lg mt-2",children:[S.map(y=>{const k=y.icon;return e.jsxs(ce,{to:y.path,className:`nav-link block ${p(y.path)?"active":""}`,onClick:()=>o(!1),children:[e.jsx(k,{size:20}),y.label]},y.path)}),t?e.jsxs("div",{className:"pt-4 border-t border-dark-600",children:[e.jsxs(ce,{to:"/profile",className:"flex items-center space-x-3 p-3 bg-dark-700/30 rounded-lg mb-3 hover:bg-dark-700/50 transition-colors",children:[e.jsx("div",{className:"text-2xl",children:"⚔️"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-white",children:N()}),g()&&e.jsxs("div",{className:"text-xs text-gray-400 flex items-center gap-1",children:[g().type," - Nivel ",t.level]})]})]}),e.jsxs("button",{onClick:()=>{m(),o(!1)},className:"btn btn-danger w-full",children:[e.jsx(mt,{size:20}),"Salir"]})]}):e.jsx("div",{className:"pt-4 border-t border-dark-600",children:e.jsxs(ce,{to:"/auth",className:"btn btn-primary w-full",onClick:()=>o(!1),children:[e.jsx(_t,{size:20}),"Iniciar Sesión"]})})]})})]})})})},Rr=({onSuccess:t,onSwitchToLogin:s})=>{const{showNotification:a}=ee(),[r,n]=b.useState({albionNick:"",password:"",confirmPassword:""}),[l,o]=b.useState(!1),[i,d]=b.useState(!1),[c,u]=b.useState(!1),m=p=>{n({...r,[p.target.name]:p.target.value})},f=()=>r.albionNick.trim()?r.albionNick.trim().length<3?(a("El nick de Albion debe tener al menos 3 caracteres","error"),!1):r.password.length<6?(a("La contraseña debe tener al menos 6 caracteres","error"),!1):r.password!==r.confirmPassword?(a("Las contraseñas no coinciden","error"),!1):!0:(a("El nick de Albion es requerido","error"),!1),S=async p=>{var N,g;if(p.preventDefault(),!!f()){u(!0);try{const y=await U.register({albionNick:r.albionNick.trim(),password:r.password});a("Registro exitoso! Completa tu perfil para continuar","success"),t&&t(y)}catch(y){a(((g=(N=y.response)==null?void 0:N.data)==null?void 0:g.error)||"Error en el registro","error")}finally{u(!1)}}};return e.jsxs("div",{className:"w-full max-w-md mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gradient mb-2",children:"Crear Cuenta"}),e.jsx("p",{className:"text-gray-400",children:"Regístrate usando tu nick de Albion Online"})]}),e.jsxs("form",{onSubmit:S,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nick de Albion Online"}),e.jsxs("div",{className:"relative",children:[e.jsx(me,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",name:"albionNick",value:r.albionNick,onChange:m,placeholder:"Tu nick en Albion",className:"input pl-10 w-full",required:!0})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Este será tu nombre de usuario en la aplicación"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx(vs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:l?"text":"password",name:"password",value:r.password,onChange:m,placeholder:"Mínimo 6 caracteres",className:"input pl-10 pr-10 w-full",required:!0}),e.jsx("button",{type:"button",onClick:()=>o(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white",children:l?e.jsx(ut,{size:20}):e.jsx(Ne,{size:20})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Confirmar Contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx(Te,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:i?"text":"password",name:"confirmPassword",value:r.confirmPassword,onChange:m,placeholder:"Repite tu contraseña",className:"input pl-10 pr-10 w-full",required:!0}),e.jsx("button",{type:"button",onClick:()=>d(!i),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white",children:i?e.jsx(ut,{size:20}):e.jsx(Ne,{size:20})})]})]}),e.jsx("button",{type:"submit",disabled:c,className:"btn btn-primary w-full",children:c?"Creando cuenta...":"Crear Cuenta"}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-gray-400",children:["¿Ya tienes cuenta?"," ",e.jsx("button",{type:"button",onClick:s,className:"text-blue-400 hover:text-blue-300 font-medium",children:"Inicia sesión"})]})})]}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-500/10 rounded-lg border border-blue-500/20",children:[e.jsx("h4",{className:"text-sm font-semibold text-blue-400 mb-2",children:"Después del registro:"}),e.jsxs("ul",{className:"text-xs text-gray-300 space-y-1",children:[e.jsx("li",{children:"• Completa tu perfil con roles y recursos"}),e.jsx("li",{children:"• Únete a grupos y eventos"}),e.jsx("li",{children:"• Usa la calculadora de loot"})]})]})]})},Mr=({onSuccess:t,onSwitchToRegister:s})=>{const{showNotification:a}=ee(),[r,n]=b.useState({albionNick:"",password:""}),[l,o]=b.useState(!1),[i,d]=b.useState(!1),c=m=>{n({...r,[m.target.name]:m.target.value})},u=async m=>{var f,S;if(m.preventDefault(),!r.albionNick.trim()||!r.password){a("Nick de Albion y contraseña son requeridos","error");return}d(!0);try{const p=await U.login(r.albionNick.trim(),r.password);a("¡Bienvenido de vuelta!","success"),t&&t(p)}catch(p){a(((S=(f=p.response)==null?void 0:f.data)==null?void 0:S.error)||"Error en el login","error")}finally{d(!1)}};return e.jsxs("div",{className:"w-full max-w-md mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gradient mb-2",children:"Iniciar Sesión"}),e.jsx("p",{className:"text-gray-400",children:"Accede con tu nick de Albion Online"})]}),e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nick de Albion Online"}),e.jsxs("div",{className:"relative",children:[e.jsx(me,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",name:"albionNick",value:r.albionNick,onChange:c,placeholder:"Tu nick en Albion",className:"input pl-10 w-full",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Contraseña"}),e.jsxs("div",{className:"relative",children:[e.jsx(vs,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:l?"text":"password",name:"password",value:r.password,onChange:c,placeholder:"Tu contraseña",className:"input pl-10 pr-10 w-full",required:!0}),e.jsx("button",{type:"button",onClick:()=>o(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white",children:l?e.jsx(ut,{size:20}):e.jsx(Ne,{size:20})})]})]}),e.jsx("button",{type:"submit",disabled:i,className:"btn btn-primary w-full",children:i?"Iniciando sesión...":"Iniciar Sesión"}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-gray-400",children:["¿No tienes cuenta?"," ",e.jsx("button",{type:"button",onClick:s,className:"text-blue-400 hover:text-blue-300 font-medium",children:"Regístrate"})]})})]}),e.jsxs("div",{className:"mt-6 p-4 bg-green-500/10 rounded-lg border border-green-500/20",children:[e.jsx("h4",{className:"text-sm font-semibold text-green-400 mb-2",children:"¿Olvidaste tu contraseña?"}),e.jsx("p",{className:"text-xs text-gray-300",children:"Por el momento, contacta con un administrador para recuperar tu cuenta."})]})]})},Dr=({user:t,onComplete:s})=>{const{showNotification:a}=ee(),[r,n]=b.useState(!1),[l,o]=b.useState(1),[i,d]=b.useState({roles:(t==null?void 0:t.roles)||[],gathering:(t==null?void 0:t.gathering)||{mineral:"T1",madera:"T1",fibra:"T1",piedra:"T1",piel:"T1",pescado:"T1"},guild:(t==null?void 0:t.guild)||"",alliance:(t==null?void 0:t.alliance)||"",city:(t==null?void 0:t.city)||""}),[c,u]=b.useState({type:"",isPrimary:!1}),m=[{value:"Tank",label:"Tank",icon:Te},{value:"Curador",label:"Curador",icon:yt},{value:"DPS Melee",label:"DPS Melee",icon:Xe},{value:"DPS Ranged",label:"DPS Ranged",icon:vt},{value:"Support",label:"Support",icon:_e}],f=["T1","T2","T3","T4","T5","T6","T7","T8"],S=()=>{if(!c.type){a("Selecciona un tipo de rol","error");return}i.roles.length===0&&(c.isPrimary=!0),d({...i,roles:[...i.roles,{...c}]}),u({type:"",isPrimary:!1})},p=x=>{const w=i.roles.filter((j,v)=>v!==x);w.length>0&&!w.some(j=>j.isPrimary)&&(w[0].isPrimary=!0),d({...i,roles:w})},N=x=>{const w=i.roles.map((j,v)=>({...j,isPrimary:v===x}));d({...i,roles:w})},g=async()=>{if(i.roles.length===0){a("Debes agregar al menos un rol","error");return}n(!0);try{await U.updateProfile({...i,profileCompleted:!0}),a("Perfil completado exitosamente!","success"),s&&s()}catch{a("Error al completar perfil","error")}finally{n(!1)}},y=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-gradient mb-2",children:"Bienvenido a Albion Group Manager"}),e.jsx("p",{className:"text-gray-400",children:"Configura tus roles para participar en actividades"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"⚔️"}),e.jsxs("h4",{className:"text-lg font-semibold text-white mb-2",children:["¡Hola, ",t==null?void 0:t.albionNick,"!"]}),e.jsx("p",{className:"text-gray-400",children:"Tu avatar por defecto es ⚔️"})]}),e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{type:"button",onClick:()=>o(2),className:"btn btn-primary",children:"Siguiente: Roles"})})]}),k=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-gradient mb-2",children:"Roles de Combate"}),e.jsx("p",{className:"text-gray-400",children:"Agrega tus roles principales en Albion"})]}),i.roles.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-semibold text-gray-300",children:"Roles configurados:"}),i.roles.map((x,w)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`px-2 py-1 rounded text-xs ${x.isPrimary?"bg-gold-500/20 text-gold-400":"bg-gray-500/20 text-gray-400"}`,children:x.isPrimary?"Principal":"Secundario"}),e.jsx("span",{className:"font-medium",children:x.type})]}),e.jsxs("div",{className:"flex gap-2",children:[!x.isPrimary&&e.jsx("button",{onClick:()=>N(w),className:"text-xs text-blue-400 hover:text-blue-300",children:"Principal"}),e.jsx("button",{onClick:()=>p(w),className:"text-red-400 hover:text-red-300",children:e.jsx(J,{size:16})})]})]},w))]}),e.jsxs("div",{className:"p-4 border border-gray-600 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-300 mb-4",children:"Agregar nuevo rol:"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tipo de Rol"}),e.jsxs("select",{value:c.type,onChange:x=>u({...c,type:x.target.value}),className:"input w-full",children:[e.jsx("option",{value:"",children:"Seleccionar rol"}),m.map(x=>e.jsx("option",{value:x.value,children:x.label},x.value))]})]})}),e.jsx("div",{className:"mt-4",children:e.jsxs("button",{type:"button",onClick:S,className:"btn btn-secondary",disabled:!c.type,children:[e.jsx(Y,{size:16}),"Agregar Rol"]})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("button",{type:"button",onClick:()=>o(1),className:"btn btn-secondary",children:"Anterior"}),e.jsx("button",{type:"button",onClick:()=>o(3),className:"btn btn-primary",disabled:i.roles.length===0,children:"Siguiente: Recursos"})]})]}),T=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-gradient mb-2",children:"Recursos de Recolección"}),e.jsx("p",{className:"text-gray-400",children:"Configura tus niveles de recolección"})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:Object.entries(i.gathering).map(([x,w])=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2 capitalize",children:x}),e.jsx("select",{value:w,onChange:j=>d({...i,gathering:{...i.gathering,[x]:j.target.value}}),className:"input w-full",children:f.map(j=>e.jsx("option",{value:j,children:j},j))})]},x))}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("button",{type:"button",onClick:()=>o(2),className:"btn btn-secondary",children:"Anterior"}),e.jsx("button",{type:"button",onClick:()=>o(4),className:"btn btn-primary",children:"Siguiente: Finalizar"})]})]}),A=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-gradient mb-2",children:"Información Adicional"}),e.jsx("p",{className:"text-gray-400",children:"Opcional: Agrega información de gremio y ciudad"})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Gremio"}),e.jsx("input",{type:"text",value:i.guild,onChange:x=>d({...i,guild:x.target.value}),placeholder:"Nombre del gremio",className:"input w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Alianza"}),e.jsx("input",{type:"text",value:i.alliance,onChange:x=>d({...i,alliance:x.target.value}),placeholder:"Nombre de la alianza",className:"input w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ciudad Principal"}),e.jsx("input",{type:"text",value:i.city,onChange:x=>d({...i,city:x.target.value}),placeholder:"Bridgewatch, Martlock, etc.",className:"input w-full"})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("button",{type:"button",onClick:()=>o(3),className:"btn btn-secondary",children:"Anterior"}),e.jsxs("button",{type:"submit",onClick:g,disabled:r,className:"btn btn-primary",children:[e.jsx(Nt,{size:16}),r?"Completando...":"Completar Perfil"]})]})]});return e.jsxs("div",{className:"w-full max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gradient mb-2",children:"Completar Perfil"}),e.jsx("p",{className:"text-gray-400",children:"Configura tus roles y recursos para participar en actividades"})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsxs("span",{className:"text-sm text-gray-400",children:["Paso ",l," de 4"]}),e.jsxs("span",{className:"text-sm text-gray-400",children:[Math.round(l/4*100),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${l/4*100}%`}})})]}),l===1&&y(),l===2&&k(),l===3&&T(),l===4&&A()]})},Gr=({onAuthSuccess:t})=>{const{showNotification:s}=ee(),[a,r]=b.useState("login"),[n,l]=b.useState(null),[o,i]=b.useState(!0);b.useEffect(()=>{d()},[]);const d=async()=>{try{const f=U.getCurrentUser();f&&(await U.verifyToken()?(l(f),f.profileCompleted?t(f):r("complete-profile")):U.logout())}catch(f){console.error("Error checking auth status:",f)}finally{i(!1)}},c=f=>{l(f.user),r("complete-profile")},u=f=>{l(f.user),f.user.profileCompleted?t(f.user):r("complete-profile")},m=()=>{const f=U.getCurrentUser();l(f),t(f)};return o?e.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4 glow",children:"⚔️"}),e.jsx("h2",{className:"text-2xl font-bold text-gradient",children:"Verificando sesión..."})]})}):e.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"text-6xl mb-4 glow",children:"⚔️"}),e.jsx("h1",{className:"text-4xl font-bold text-gradient mb-2",children:"Albion Group Manager"}),e.jsx("p",{className:"text-gray-400",children:"Organiza grupos y eventos para Albion Online"})]}),e.jsxs("div",{className:"card",children:[a==="login"&&e.jsx(Mr,{onSuccess:u,onSwitchToRegister:()=>r("register")}),a==="register"&&e.jsx(Rr,{onSuccess:c,onSwitchToLogin:()=>r("login")}),a==="complete-profile"&&n&&e.jsx(Dr,{user:n,onComplete:m})]}),e.jsx("div",{className:"text-center mt-8",children:e.jsx("p",{className:"text-xs text-gray-500",children:"Albion Group Manager v1.0 - Organiza tus actividades"})})]})})},Or=()=>e.jsxs("div",{className:"card mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6 text-gradient",children:"Tipos de Actividades"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"border border-blue-500/30 rounded-lg p-6 bg-blue-500/10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(ae,{className:"w-8 h-8 text-blue-400"}),e.jsx("h3",{className:"text-xl font-bold text-blue-400",children:"Grupos Abiertos"})]}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Actividades continuas donde los miembros pueden unirse en cualquier momento."}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(le,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{children:"Sin fecha específica"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(le,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{children:"Unión inmediata"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(le,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{children:"Plantillas disponibles"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(le,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{children:"Gestión de roles"})]})]}),e.jsx("div",{className:"mt-4 p-3 bg-blue-500/20 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-300",children:[e.jsx("strong",{children:"Ideal para:"})," Dungeons diarios, grupos de gathering, actividades PvP espontáneas, entrenamientos regulares."]})})]}),e.jsxs("div",{className:"border border-purple-500/30 rounded-lg p-6 bg-purple-500/10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(bt,{className:"w-8 h-8 text-purple-400"}),e.jsx("h3",{className:"text-xl font-bold text-purple-400",children:"Eventos Programados"})]}),e.jsxs("p",{className:"text-gray-300 mb-4",children:[e.jsx("strong",{children:"Grupos con fecha y hora específica"})," donde los miembros confirman asistencia."]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(jt,{className:"w-4 h-4 text-purple-400"}),e.jsx("span",{children:"Fecha y hora específica"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(le,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{children:"Confirmación de asistencia"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(le,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{children:"Plantillas disponibles"})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(le,{className:"w-4 h-4 text-green-400"}),e.jsx("span",{children:"Requisitos específicos"})]})]}),e.jsx("div",{className:"mt-4 p-3 bg-purple-500/20 rounded-lg",children:e.jsxs("p",{className:"text-sm text-purple-300",children:[e.jsx("strong",{children:"Ideal para:"})," GvG, ZvZ, HCE programadas, eventos especiales, raids organizadas, torneos."]})})]})]}),e.jsxs("div",{className:"mt-8 p-6 bg-gray-800/50 rounded-lg border border-gray-700",children:[e.jsx("h4",{className:"text-lg font-semibold mb-4 text-center",children:"Arquitectura del Sistema"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-blue-400 mb-2",children:"Grupos"}),e.jsxs("div",{className:"space-y-1 text-gray-300",children:[e.jsx("div",{children:"• Actividad base"}),e.jsx("div",{children:"• Sin fecha límite"}),e.jsx("div",{children:"• Unión inmediata"})]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-purple-400 mb-2",children:"Eventos"}),e.jsxs("div",{className:"space-y-1 text-gray-300",children:[e.jsx("div",{children:"• Grupo + Calendario"}),e.jsx("div",{children:"• Fecha específica"}),e.jsx("div",{children:"• Confirmación requerida"})]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold text-gold-400 mb-2",children:"Compartido"}),e.jsxs("div",{className:"space-y-1 text-gray-300",children:[e.jsx("div",{children:"• Plantillas"}),e.jsx("div",{children:"• Gestión de miembros"}),e.jsx("div",{children:"• Calculadora de loot"})]})]})]}),e.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-lg border border-gray-600",children:e.jsxs("p",{className:"text-center text-sm text-gray-300",children:[e.jsx("strong",{children:"Concepto clave:"})," Un evento es un grupo programado en el calendario. Ambos comparten la misma base de funcionalidad pero los eventos agregan la dimensión temporal."]})})]})]}),ht=()=>{if(!(localStorage.getItem("notificationsEnabled")!=="false"))return{play:()=>console.log("Sonidos de notificación deshabilitados"),stop:()=>{}};try{const s=new(window.AudioContext||window.webkitAudioContext),a=[440,554,659,880],r=[],n=[];return a.forEach((l,o)=>{const i=s.createOscillator(),d=s.createGain();i.type="sine",i.frequency.setValueAtTime(l,s.currentTime),d.gain.setValueAtTime(0,s.currentTime),d.gain.linearRampToValueAtTime(.1,s.currentTime+.1),d.gain.exponentialRampToValueAtTime(.01,s.currentTime+1.5),i.connect(d),d.connect(s.destination),i.start(s.currentTime+o*.1),i.stop(s.currentTime+1.5+o*.1),r.push(i),n.push(d)}),{play:()=>{s.state==="suspended"&&s.resume()},stop:()=>{r.forEach(l=>l.stop()),s.close()}}}catch(s){return console.log("Web Audio API no disponible:",s),{play:()=>console.log("Sonido de trompetas simulado"),stop:()=>{}}}},zr=()=>{if(localStorage.getItem("soundEnabled")!=="false")try{const s=new(window.AudioContext||window.webkitAudioContext),a=s.createOscillator(),r=s.createGain();a.type="sine",a.frequency.setValueAtTime(800,s.currentTime),r.gain.setValueAtTime(0,s.currentTime),r.gain.linearRampToValueAtTime(.3,s.currentTime+.1),r.gain.exponentialRampToValueAtTime(.01,s.currentTime+.5),a.connect(r),r.connect(s.destination),a.start(s.currentTime),a.stop(s.currentTime+.5),s.state==="suspended"&&s.resume()}catch(s){console.log("No se pudo reproducir sonido:",s)}},ks=(t,s)=>{const[a,r]=b.useState([]),[n,l]=b.useState(!1),[o,i]=b.useState(null),d=m=>{i(m),l(!0),ht().play()};return b.useEffect(()=>{const m=t.filter(f=>{var N,g,y;const S=(((N=f.slots)==null?void 0:N.filter(k=>k.user).length)||0)>=(((g=f.slots)==null?void 0:g.length)||0),p=(y=f.slots)==null?void 0:y.some(k=>k.user&&(k.user.id===(s==null?void 0:s.id)||k.user.albionNick===(s==null?void 0:s.albionNick)));return S&&p});if(m.length>0&&!n){const f=m[0];i(f),l(!0),ht().play()}},[t,s]),{showNotification:n,notificationGroup:o,dismissNotification:()=>{l(!1),i(null)},closeNotification:()=>{l(!1),i(null)},completedGroups:a,forceShowNotification:d}},Lr=()=>{const{user:t}=fe(),{showNotification:s}=ee(),a=Ht(),[r,n]=b.useState([]),[l,o]=b.useState(null),[i,d]=b.useState(!1),[c,u]=b.useState(""),[m,f]=b.useState(""),{forceShowNotification:S}=ks(r,t);b.useEffect(()=>{p()},[]);const p=async()=>{try{const w=await $.getGroups();n(w);const j=w.find(v=>v.status==="Activo"&&v.slots&&v.slots.some(E=>E.user&&E.user.albionNick===(t==null?void 0:t.albionNick)));o(j)}catch(w){console.error("Error loading groups:",w)}},N=(w,j)=>r.filter(v=>{if(v.status!=="Activo"||w&&v.type!==w)return!1;const E=v.slots&&v.slots.filter(R=>!R.user&&R.role===j);return E&&E.length>0}),g=async()=>{if(l)try{await $.removeMemberFromGroup(l._id,t.albionNick),s("Te has salido del grupo exitosamente","success"),p()}catch{s("Error al salirse del grupo","error")}},y=async()=>{var E,R;if(!c||!m){s("Selecciona una actividad y un rol","error");return}const w=N(c,m);if(w.length===0){s(`No hay grupos de ${c} con slots de ${m} disponibles`,"info");return}const j=w[0];if(j.slots.find(O=>!O.user&&O.role===m))try{await $.addMemberToGroup(j._id,{albionNick:t.albionNick,username:t.albionNick,role:m}),s(`¡Te has unido a ${j.name} como ${m}!`,"success"),await p();const O=r.find(_=>_._id===j._id);O&&O.slots.filter(_=>_.user).length===O.slots.length&&S(O),d(!1),u(""),f(""),a("/groups")}catch(O){(((R=(E=O==null?void 0:O.response)==null?void 0:E.data)==null?void 0:R.error)||O.message).toLowerCase().includes("ya perteneces a otro grupo")?s("Ya perteneces a otro grupo activo","error"):s("Error al unirse al grupo","error")}},k=[{id:1,name:"Dungeon 5v5",type:"Dungeon",maxMembers:5,roles:["Tanque","Sanador","DPS","DPS","DPS"]},{id:2,name:"GvG 5v5",type:"GvG",maxMembers:5,roles:["Tanque","Sanador","DPS","DPS","DPS"]},{id:3,name:"HCE 5v5",type:"HCE",maxMembers:5,roles:["Tanque","Sanador","DPS","DPS","DPS"]},{id:4,name:"ZvZ Masivo",type:"ZvZ",maxMembers:20,roles:["Tanque","Sanador","DPS","Soporte"]},{id:5,name:"Gathering Group",type:"Gathering",maxMembers:10,roles:["Recolector"]}],T=async()=>{if(!c||!m){s("Selecciona una actividad y un rol","error");return}const w=k.find(O=>O.type===c)||{name:`${c} Auto`,type:c,roles:[m]},j=`${t.albionNick} ${c}`;let v=!1;const E=w.roles.map(O=>!v&&O===m?(v=!0,{role:O,user:{albionNick:t.albionNick,username:t.albionNick}}):{role:O,user:null}),R={name:j,template:w,type:c,slots:E,creatorNick:t.albionNick};try{await $.createGroup(R),s("Grupo creado exitosamente","success"),d(!1),u(""),f(""),p(),a("/groups")}catch{s("Error al crear grupo","error")}},A=[{value:"Dungeon",label:"Dungeon",icon:"🏰",description:"Explora mazmorras y obtén tesoros"},{value:"GvG",label:"GvG",icon:"⚔️",description:"Batallas épicas entre gremios"},{value:"HCE",label:"HCE",icon:"🔥",description:"Hardcore Expeditions de élite"},{value:"ZvZ",label:"ZvZ",icon:"👥",description:"Guerras masivas de territorios"},{value:"Gathering",label:"Gathering",icon:"🌿",description:"Recolección de recursos"},{value:"Crafting",label:"Crafting",icon:"🔨",description:"Creación de objetos"},{value:"PvP",label:"PvP",icon:"⚡",description:"Combate jugador vs jugador"}],x=[{value:"Tanque",label:"Tanque",icon:"🛡️",description:"Protege al grupo"},{value:"Sanador",label:"Sanador",icon:"💚",description:"Mantén vivos a tus aliados"},{value:"DPS",label:"DPS",icon:"⚔️",description:"Inflige daño devastador"},{value:"Soporte",label:"Soporte",icon:"🔮",description:"Potencia las habilidades del grupo"}];return e.jsxs("div",{className:"min-h-screen py-8 px-4",children:[e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8 fade-in",children:[e.jsxs("h1",{className:"text-4xl font-bold mb-2",children:["¡Bienvenido, ",e.jsx("span",{className:"text-gradient",children:(t==null?void 0:t.albionNick)||(t==null?void 0:t.username)||"Aventurero"}),"!"]}),e.jsx("p",{className:"text-xl text-dark-300",children:"Aquí tienes un resumen de tu actividad en Albion Group Manager"})]}),l?e.jsx("div",{className:"card bg-gradient-to-r from-blue-600/20 to-purple-600/20 border-blue-500/30 mb-12 fade-in",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"🛡️"}),e.jsx("h2",{className:"text-3xl font-bold text-gradient mb-4",children:"¡Estás en Misión!"}),e.jsxs("p",{className:"text-lg text-gray-300 mb-6 max-w-2xl mx-auto",children:["Actualmente estás participando en ",e.jsx("strong",{children:l.name}),". ¿Quieres cambiar de grupo o salirte para buscar nuevas aventuras?"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs("button",{onClick:g,className:"btn btn-danger text-lg px-6 py-3 flex items-center space-x-3",children:[e.jsx(mt,{size:20}),e.jsx("span",{children:"Salir del Grupo"})]}),e.jsxs("button",{onClick:()=>{g(),setTimeout(()=>d(!0),500)},className:"btn btn-primary text-lg px-6 py-3 flex items-center space-x-3",children:[e.jsx(Ne,{size:20}),e.jsx("span",{children:"Cambiar de Grupo"})]})]})]})}):e.jsx("div",{className:"card bg-gradient-to-r from-green-600/20 to-blue-600/20 border-green-500/30 mb-12 fade-in",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"⚔️"}),e.jsx("h2",{className:"text-3xl font-bold text-gradient mb-4",children:"¡Únete a la Aventura!"}),e.jsx("p",{className:"text-lg text-gray-300 mb-6 max-w-2xl mx-auto",children:"¿Listo para conquistar Albion? Encuentra tu grupo perfecto y embárcate en misiones épicas. Desde mazmorras peligrosas hasta batallas masivas, tu próxima gran aventura está a un clic de distancia."}),e.jsxs("button",{onClick:()=>d(!0),className:"btn btn-primary text-lg px-8 py-4 flex items-center space-x-3 mx-auto",children:[e.jsx(Ne,{size:24}),e.jsx("span",{children:"Buscar Grupo Épico"}),e.jsx(he,{size:24})]})]})}),e.jsx(Or,{})]}),i&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-gray-900 rounded-lg shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(he,{className:"w-6 h-6 text-green-400"}),e.jsx("h2",{className:"text-xl font-bold text-white",children:"¡Encuentra tu Aventura!"})]}),e.jsx("button",{onClick:()=>{d(!1),u(""),f("")},className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(J,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6 space-y-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-lg font-medium text-white mb-4",children:"¿Qué tipo de aventura quieres vivir?"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:A.map(w=>e.jsxs("button",{onClick:()=>u(w.value),className:`p-4 rounded-lg border-2 transition-all text-left ${c===w.value?"border-green-500 bg-green-500/10 text-green-400":"border-gray-600 hover:border-gray-500 text-gray-300 hover:text-white"}`,children:[e.jsx("div",{className:"text-3xl mb-2",children:w.icon}),e.jsx("div",{className:"font-semibold mb-1",children:w.label}),e.jsx("div",{className:"text-xs opacity-75",children:w.description})]},w.value))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-lg font-medium text-white mb-4",children:"⚔️ ¿Con qué rol quieres luchar?"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:x.map(w=>e.jsxs("button",{onClick:()=>f(w.value),className:`p-4 rounded-lg border-2 transition-all text-center ${m===w.value?"border-green-500 bg-green-500/10 text-green-400":"border-gray-600 hover:border-gray-500 text-gray-300 hover:text-white"}`,children:[e.jsx("div",{className:"text-3xl mb-2",children:w.icon}),e.jsx("div",{className:"font-semibold mb-1",children:w.label}),e.jsx("div",{className:"text-xs opacity-75",children:w.description})]},w.value))})]}),c&&m&&e.jsx("div",{className:"bg-gradient-to-r from-green-600/20 to-blue-600/20 border border-green-500/30 rounded-lg p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl mb-2",children:"🎯"}),e.jsx("div",{className:"text-lg font-semibold text-white mb-2",children:N(c,m).length>0?`¡Perfecto! Encontramos ${N(c,m).length} grupos disponibles`:`No hay grupos de ${c} con slots de ${m} disponibles`}),e.jsxs("div",{className:"text-gray-300",children:["Grupos de ",e.jsx("strong",{children:c})," con slots de ",e.jsx("strong",{children:m})]}),N(c,m).length>0?e.jsx("button",{onClick:y,className:"mt-4 px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg font-semibold transition-all",children:"Unirse a Grupo"}):e.jsxs("button",{onClick:T,className:"mt-4 px-6 py-3 bg-yellow-600 hover:bg-yellow-700 text-white rounded-lg font-semibold transition-all",children:["Crear Grupo de ",c," como ",m]})]})})]}),e.jsx("div",{className:"flex items-center justify-end space-x-3 p-6 border-t border-gray-700",children:e.jsx("button",{onClick:()=>{d(!1),u(""),f("")},className:"px-4 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancelar"})})]})})]})},Cs=({isOpen:t,onClose:s,searchTerm:a,setSearchTerm:r,filteredUsers:n,onSelectUser:l,onClearSelection:o,onViewStats:i})=>{if(!t)return null;const d=c=>{switch(c){case"Experto":return"text-yellow-400";case"Avanzado":return"text-green-400";case"Intermedio":return"text-blue-400";default:return"text-gray-400"}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-gray-900 rounded-lg shadow-2xl max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:"Buscar Usuario"}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(J,{className:"w-6 h-6"})})]}),e.jsx("div",{className:"p-6 border-b border-gray-700",children:e.jsxs("div",{className:"relative",children:[e.jsx(he,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"Buscar por nombre, rol o experiencia...",value:a,onChange:c=>r(c.target.value),className:"w-full pl-10 pr-4 py-3 bg-gray-800 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),e.jsx("div",{className:"max-h-96 overflow-y-auto",children:n.length===0?e.jsx("div",{className:"p-6 text-center",children:e.jsx("p",{className:"text-gray-400",children:"No se encontraron usuarios"})}):e.jsx("div",{className:"space-y-2 p-4",children:n.map(c=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800 rounded-lg hover:bg-gray-700 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"text-2xl",children:c.avatar}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-medium",children:c.username}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx("span",{className:"text-blue-400",children:c.role}),e.jsx("span",{className:"text-gray-400",children:"•"}),e.jsx("span",{className:`${d(c.experience)}`,children:c.experience}),e.jsx("span",{className:"text-gray-400",children:"•"}),e.jsxs("span",{className:"text-green-400",children:["Lv.",c.level]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>i(c),className:"p-2 text-gray-400 hover:text-white transition-colors",title:"Ver estadísticas",children:e.jsx(Ne,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>l(c),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded text-sm transition-colors",children:"Seleccionar"})]})]},c.id))})}),e.jsx("div",{className:"p-6 border-t border-gray-700",children:e.jsx("button",{onClick:o,className:"w-full px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Limpiar Selección"})})]})})},at=["Tanque","Sanador","DPS","Soporte","Curador"],qr=({group:t,onUpdateGroup:s,onClose:a,registeredUsers:r,currentUser:n,onGroupConflict:l,reloadGroups:o})=>{const[i,d]=b.useState(()=>t.slots&&Array.isArray(t.slots)?t.slots:t.template&&Array.isArray(t.template.roles)?t.template.roles.map(j=>({role:j,user:null})):[{role:"DPS",user:null}]),[c,u]=b.useState(!1),[m,f]=b.useState(null),[S,p]=b.useState(at[0]),N=t.creatorNick&&(n==null?void 0:n.albionNick)&&t.creatorNick===n.albionNick,g=()=>{d([...i,{role:S,user:null}])},y=j=>{i[j].user,d(i.filter((E,R)=>R!==j))},k=(j,v)=>{const E=[...i];E[j].role=v,d(E)},T=async j=>{var v,E,R,O;try{await $.addMemberToGroup(t._id,{albionNick:n.albionNick,username:n.albionNick}),o&&o()}catch(_){const ge=((E=(v=_==null?void 0:_.response)==null?void 0:v.data)==null?void 0:E.error)||_.message;if(ge.toLowerCase().includes("ya perteneces a otro grupo")){const re=(O=(R=_==null?void 0:_.response)==null?void 0:R.data)==null?void 0:O.existingGroup;l&&re&&l("join",re,t)}else alert(ge||"No puedes unirte a este grupo.")}},A=(j,v)=>{const E=[...i];E[j].user=v,d(E),u(!1),f(null),zr()},x=async j=>{const v=i[j];if(v.user&&n&&v.user.albionNick===n.albionNick&&!N){try{await $.removeMemberFromGroup(t._id,n.albionNick),o&&o()}catch{alert("Error al salir del grupo")}return}const E=[...i];E[j].user=null,d(E),o&&o()},w=()=>{s({...t,slots:i})};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-gray-900 rounded-lg shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ae,{className:"w-6 h-6 text-blue-400"}),e.jsxs("h2",{className:"text-xl font-bold text-white",children:["Gestionar Grupo: ",t.name]})]}),e.jsx("button",{onClick:a,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(J,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Slots del Grupo"}),e.jsx("div",{className:"grid gap-3 mb-6",children:i.map((j,v)=>e.jsxs("div",{className:"flex items-center justify-between bg-gray-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("select",{value:j.role,onChange:E=>N&&k(v,E.target.value),className:"bg-gray-700 border border-gray-600 rounded px-2 py-1 text-sm",disabled:!N,children:at.map(E=>e.jsx("option",{value:E,children:E},E))}),e.jsxs("span",{className:"text-white font-medium",children:[j.user?j.user.username||j.user.albionNick:e.jsx("span",{className:"text-gray-400",children:"Vacío"}),j.user&&t.creatorNick&&j.user.albionNick===t.creatorNick&&e.jsx("span",{className:"ml-2 text-xs text-gold-400",children:"(Creador del grupo)"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[!j.user&&n&&e.jsx("button",{onClick:()=>T(),className:"p-2 bg-yellow-600 hover:bg-yellow-700 text-white rounded transition-colors",title:"Cambiarme a este slot",children:e.jsx(me,{className:"w-4 h-4"})}),N&&j.user&&e.jsx("button",{onClick:()=>x(v),className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded transition-colors",title:"Expulsar usuario",children:e.jsx(pe,{className:"w-4 h-4"})}),j.user&&n&&j.user.albionNick===n.albionNick&&!N&&e.jsx("button",{onClick:()=>x(v),className:"p-2 bg-red-500 hover:bg-red-700 text-white rounded transition-colors",title:"Salir de este grupo",children:e.jsx(pe,{className:"w-4 h-4"})}),N&&e.jsx("button",{onClick:()=>{j.user&&x(v),y(v)},className:"p-2 bg-red-800 hover:bg-red-900 text-white rounded transition-colors",title:j.user?"Expulsar y eliminar slot":"Eliminar slot",children:e.jsx(J,{className:"w-4 h-4"})})]})]},v))}),N&&e.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[e.jsx("select",{value:S,onChange:j=>p(j.target.value),className:"bg-gray-700 border border-gray-600 rounded px-2 py-1 text-sm",children:at.map(j=>e.jsx("option",{value:j,children:j},j))}),e.jsx("button",{onClick:g,className:"p-2 bg-green-600 hover:bg-green-700 text-white rounded transition-colors flex items-center",title:"Agregar Slot",children:e.jsx(Y,{className:"w-4 h-4"})}),e.jsx("button",{onClick:w,className:"p-2 bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors",children:"Guardar Cambios"})]})]}),c&&e.jsx(Cs,{users:r.filter(j=>!i.some(v=>v.user&&v.user.id===j.id)),searchTerm:"",onSearchChange:()=>{},onSelectUser:j=>A(m,j),onClose:()=>u(!1),title:"Asignar usuario a slot"})]})})},Fr=({groups:t,onUpdateGroup:s,onDeleteGroup:a,registeredUsers:r,reloadGroups:n,onBackToList:l,onGroupConflict:o})=>{const{user:i}=fe(),[d,c]=b.useState(null),[u,m]=b.useState(!1),[f,S]=b.useState(null),[p,N]=b.useState(null),g=x=>{c(x),m(!0)},y=x=>{s(x)},k=x=>{switch(x){case"Dungeon":return"🏰";case"GvG":return"⚔️";case"HCE":return"🔥";case"ZvZ":return"🏛️";case"Gathering":return"🌿";case"Crafting":return"🔨";case"PvP":return"⚡";default:return"🎯"}},T=x=>{switch(x){case"Activo":return"text-green-400";case"En Preparación":return"text-yellow-400";case"Completado":return"text-blue-400";case"Cancelado":return"text-red-400";default:return"text-gray-400"}},A=x=>new Date(x).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"});return b.useEffect(()=>{if(u&&d&&t.length>0){const x=t.find(w=>w._id===d._id);x?(c(x),x.slots&&x.slots.some(j=>j.user&&j.user.albionNick===i.albionNick)||(m(!1),c(null))):(m(!1),c(null))}},[t]),t.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"📋"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No hay grupos creados"}),e.jsx("p",{className:"text-gray-400",children:"Crea tu primer grupo para comenzar a organizar actividades"})]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"space-y-6",children:[t.map(x=>{const w=x.status==="Activo"&&x.slots&&x.slots.some(j=>j.user&&j.user.albionNick===i.albionNick);return e.jsx("div",{className:w?"bg-gradient-to-br from-yellow-400/30 to-yellow-700/20 border-yellow-400/60 text-gold-400 rounded-lg p-6 border-2 shadow-lg fade-in":"bg-gray-800 rounded-lg p-6 border border-gray-700",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"text-2xl",children:k(x.type)}),e.jsxs("div",{children:[e.jsx("h3",{className:`text-xl font-bold ${w?"text-gold-400":"text-white"}`,children:x.name}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${T(x.status)}`,children:x.status}),x.date&&!isNaN(new Date(x.date))&&e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(bt,{className:"w-4 h-4"}),A(x.date)]}),x.location&&e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(ws,{className:"w-4 h-4"}),x.location]}),x.duration&&e.jsxs("span",{className:"flex items-center space-x-1",children:[e.jsx(jt,{className:"w-4 h-4"}),x.duration]})]})]})]}),x.description&&e.jsx("p",{className:"text-gray-300 mb-4",children:x.description}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ae,{className:"w-4 h-4 text-blue-400"}),e.jsxs("span",{className:"text-sm",children:[x.slots?x.slots.filter(j=>j.user).length:0,"/",x.slots?x.slots.length:0," miembros"]})]}),x.slots&&x.slots.some(j=>j.user&&j.user.id===x.creatorId)&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Sr,{className:"w-4 h-4 text-yellow-400"}),e.jsx("span",{className:"text-sm text-yellow-400",children:"Creador asignado"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>g(x),className:"flex items-center space-x-2 px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[e.jsx(Ss,{className:"w-4 h-4"}),e.jsx("span",{children:"Gestionar"})]}),x.creatorNick===i.albionNick&&e.jsxs("button",{onClick:()=>a(x._id),className:"flex items-center space-x-2 px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:[e.jsx(Ke,{className:"w-4 h-4"}),e.jsx("span",{children:"Eliminar"})]})]})]}),x.slots&&x.slots.filter(j=>j.user).length>0&&e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-400 mb-2",children:"Miembros:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:x.slots.filter(j=>j.user).map((j,v)=>e.jsxs("div",{className:"flex items-center space-x-2 bg-gray-700 rounded-lg px-3 py-2",children:[e.jsx("span",{className:"text-lg",children:j.user.avatar||"👤"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-white",children:j.user.username||j.user.albionNick}),e.jsx("div",{className:"text-xs text-gray-400",children:j.role})]}),!x._id&&j.user&&x.creatorNick&&j.user.albionNick===x.creatorNick&&e.jsx("span",{className:"ml-2 text-xs text-gold-400",children:"(Creador)"})]},v))})]})]})})},x._id)}),u&&d&&e.jsx(qr,{group:d,onUpdateGroup:y,onClose:()=>{m(!1),c(null),l&&l()},registeredUsers:r,currentUser:i,onGroupConflict:o,reloadGroups:n})]})})},Ur=({onClose:t,onCreateGroup:s,currentUser:a})=>{const[r,n]=b.useState({name:"",template:null}),[l,o]=b.useState(!1),i=[{id:1,name:"Dungeon 5v5",type:"Dungeon",maxMembers:5,roles:["Tanque","Sanador","DPS","DPS","DPS"]},{id:2,name:"GvG 5v5",type:"GvG",maxMembers:5,roles:["Tanque","Sanador","DPS","DPS","DPS"]},{id:3,name:"HCE 5v5",type:"HCE",maxMembers:5,roles:["Tanque","Sanador","DPS","DPS","DPS"]},{id:4,name:"ZvZ Masivo",type:"ZvZ",maxMembers:20,roles:["Tanque","Sanador","DPS","Soporte"]},{id:5,name:"Gathering Group",type:"Gathering",maxMembers:10,roles:["Recolector"]}],d=(m,f)=>{n(S=>({...S,[m]:f}))},c=m=>{n(f=>({...f,template:m})),o(!1)},u=m=>{if(m.preventDefault(),!r.name||!r.template){alert("Por favor completa el nombre y selecciona una plantilla");return}const f=r.template.roles.map((p,N)=>({role:p,user:N===0&&a?{albionNick:a.albionNick,username:a.albionNick}:null})),S={name:r.name,template:r.template,type:r.template.type,slots:f,creatorNick:a==null?void 0:a.albionNick};s(S)};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-gray-900 rounded-lg shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Y,{className:"w-6 h-6 text-blue-400"}),e.jsx("h2",{className:"text-xl font-bold text-white",children:"Crear Nuevo Grupo"})]}),e.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(J,{className:"w-6 h-6"})})]}),e.jsxs("form",{onSubmit:u,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Nombre del Grupo"}),e.jsx("input",{type:"text",value:r.name,onChange:m=>d("name",m.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-blue-500 focus:ring-1 focus:ring-blue-500",placeholder:"Ej: Dungeon Martes 8pm",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Plantilla"}),e.jsx("button",{type:"button",className:"btn btn-secondary w-full mb-2",onClick:()=>o(!0),children:r.template?`Plantilla: ${r.template.name}`:"Seleccionar Plantilla"}),l&&e.jsx("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4 mt-2 max-h-60 overflow-y-auto",children:i.map(m=>e.jsx("div",{className:"p-2 hover:bg-gray-700 rounded cursor-pointer",onClick:()=>c(m),children:m.name},m.id))})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,children:"Cancelar"}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Crear Grupo"})]})]})]})})},_r=({group:t,isVisible:s,onClose:a,onDismiss:r})=>{const[n,l]=b.useState(!0);if(b.useEffect(()=>{s&&(ht().play(),l(!0),setTimeout(()=>l(!1),1e3))},[s]),!s)return null;const o=t.slots?t.slots.filter(d=>d.user):[],i=t.slots?t.slots.length:0;return e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{position:"fixed",inset:0,zIndex:59,pointerEvents:"none"},children:e.jsx(Br,{})}),e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60 p-4",children:e.jsx("div",{className:"bg-gradient-to-br from-yellow-600 to-orange-600 rounded-lg shadow-2xl max-w-md w-full animate-fade-in",children:e.jsxs("div",{className:"p-6 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[e.jsx("div",{className:"text-4xl",children:"🎉"}),e.jsx("div",{className:"text-4xl",children:"🎺"}),e.jsx("div",{className:"text-4xl",children:"🎉"})]}),e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"¡Grupo Completo!"}),e.jsxs("div",{className:"bg-white/20 rounded-lg p-4 mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:t.name}),e.jsxs("div",{className:"text-white/90 text-sm space-y-1",children:[t.date&&!isNaN(new Date(t.date))&&e.jsxs("div",{children:["📅 ",new Date(t.date).toLocaleDateString("es-ES")]}),e.jsxs("div",{children:["📍 ",t.location]}),e.jsxs("div",{children:["👥 ",o.length,"/",i," miembros"]})]})]}),e.jsxs("div",{className:"bg-white/10 rounded-lg p-3 mb-4",children:[e.jsx("h4",{className:"text-white font-semibold mb-2",children:"Miembros del Grupo:"}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:o.map((d,c)=>e.jsxs("div",{className:"flex items-center space-x-1 bg-white/20 rounded px-2 py-1",children:[e.jsx("span",{className:"text-lg",children:d.user.avatar||"👤"}),e.jsx("span",{className:"text-white text-sm font-medium",children:d.user.username||d.user.albionNick}),t.creatorNick&&d.user.albionNick===t.creatorNick&&e.jsx("span",{className:"text-yellow-300 text-xs",children:"👑"})]},d.user.id||c))})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs("button",{onClick:a,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-white/20 hover:bg-white/30 text-white rounded-lg transition-colors",children:[e.jsx(ae,{className:"w-4 h-4"}),e.jsx("span",{children:"Ver Grupo"})]}),e.jsxs("button",{onClick:r,className:"flex-1 flex items-center justify-center space-x-2 px-4 py-2 bg-white/20 hover:bg-white/30 text-white rounded-lg transition-colors",children:[e.jsx(J,{className:"w-4 h-4"}),e.jsx("span",{children:"Cerrar"})]})]})]})})})]})};function Br(){return e.jsxs("svg",{width:"100%",height:"100%",style:{position:"absolute",top:0,left:0,pointerEvents:"none"},children:[e.jsx("circle",{cx:"20%",cy:"10%",r:"8",fill:"#FFD700",children:e.jsx("animate",{attributeName:"cy",from:"10%",to:"90%",dur:"1.5s",repeatCount:"indefinite"})}),e.jsx("circle",{cx:"50%",cy:"5%",r:"6",fill:"#FF69B4",children:e.jsx("animate",{attributeName:"cy",from:"5%",to:"95%",dur:"1.8s",repeatCount:"indefinite"})}),e.jsx("circle",{cx:"80%",cy:"15%",r:"7",fill:"#00BFFF",children:e.jsx("animate",{attributeName:"cy",from:"15%",to:"85%",dur:"1.2s",repeatCount:"indefinite"})}),e.jsx("circle",{cx:"35%",cy:"0%",r:"5",fill:"#32CD32",children:e.jsx("animate",{attributeName:"cy",from:"0%",to:"100%",dur:"2s",repeatCount:"indefinite"})}),e.jsx("circle",{cx:"65%",cy:"20%",r:"6",fill:"#FF8C00",children:e.jsx("animate",{attributeName:"cy",from:"20%",to:"80%",dur:"1.6s",repeatCount:"indefinite"})})]})}const Ir=({isVisible:t,onClose:s})=>{const[a,r]=b.useState(()=>localStorage.getItem("soundEnabled")!=="false"),[n,l]=b.useState(()=>localStorage.getItem("notificationsEnabled")!=="false"),o=()=>{const d=!a;r(d),localStorage.setItem("soundEnabled",d.toString())},i=()=>{const d=!n;l(d),localStorage.setItem("notificationsEnabled",d.toString())};return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-gray-900 rounded-lg shadow-2xl max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Ke,{className:"w-6 h-6 text-blue-400"}),e.jsx("h2",{className:"text-xl font-bold text-white",children:"Configuración de Sonido"})]}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(J,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[a?e.jsx(xt,{className:"w-5 h-5 text-green-400"}):e.jsx(It,{className:"w-5 h-5 text-red-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold",children:"Sonidos del Sistema"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Sonidos de notificaciones y eventos"})]})]}),e.jsx("button",{onClick:o,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${a?"bg-blue-600":"bg-gray-600"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[n?e.jsx(xt,{className:"w-5 h-5 text-green-400"}):e.jsx(It,{className:"w-5 h-5 text-red-400"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-white font-semibold",children:"Notificaciones de Grupos"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Trompetas cuando se complete un grupo"})]})]}),e.jsx("button",{onClick:i,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${n?"bg-blue-600":"bg-gray-600"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${n?"translate-x-6":"translate-x-1"}`})})]})]}),e.jsxs("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-4",children:[e.jsx("h4",{className:"text-blue-400 font-semibold mb-2",children:"Información"}),e.jsxs("ul",{className:"text-gray-300 text-sm space-y-1",children:[e.jsx("li",{children:"• Los sonidos se reproducen automáticamente"}),e.jsx("li",{children:"• Las trompetas suenan cuando un grupo se completa"}),e.jsx("li",{children:"• Los sonidos se guardan en tu navegador"}),e.jsx("li",{children:"• Puedes desactivar los sonidos en cualquier momento"})]})]})]}),e.jsx("div",{className:"p-6 border-t border-gray-700",children:e.jsx("button",{onClick:s,className:"w-full px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Cerrar"})})]})}):null},$r=()=>{const{user:t}=fe(),{showNotification:s}=ee(),[a,r]=b.useState([]),[n,l]=b.useState(!0),[o,i]=b.useState(!1),[d,c]=b.useState(!1),[u,m]=b.useState(!1),[f,S]=b.useState(null),[p,N]=b.useState(null),g=b.useRef(null),{showNotification:y,notificationGroup:k,dismissNotification:T,closeNotification:A}=ks(a,t);b.useEffect(()=>{R()},[]),b.useEffect(()=>{const L=a.some(F=>F.status==="Activo"&&F.slots&&F.slots.some(B=>B.user&&B.user.albionNick===t.albionNick));return L&&!g.current?g.current=setInterval(()=>{R()},3e4):!L&&g.current&&(clearInterval(g.current),g.current=null),()=>{g.current&&(clearInterval(g.current),g.current=null)}},[a,t]);const x=()=>{g.current&&(clearInterval(g.current),g.current=null)},w=()=>{g.current||(g.current=setInterval(()=>{R()},3e4))},j=()=>{x(),A()},v=()=>{x(),T()},E=async(L,F,B=null)=>{S(F),m(!0),N(B)},R=async()=>{try{l(!0);const L=await $.getGroups(),F=L.findIndex(Z=>Z.status==="Activo"&&Z.slots&&Z.slots.some(ne=>ne.user&&ne.user.albionNick===t.albionNick));let B=[...L];if(F>0){const[Z]=B.splice(F,1);B.unshift(Z)}r(B)}catch(L){s("Error al cargar grupos","error"),console.error("Error loading groups:",L)}finally{l(!1)}},O=async L=>{var F,B,Z,ne;try{const K=await $.createGroup(L);r(be=>[K,...be]),s("Grupo creado exitosamente","success"),i(!1)}catch(K){const be=((B=(F=K==null?void 0:K.response)==null?void 0:F.data)==null?void 0:B.error)||K.message;if(be.includes("Ya perteneces a otro grupo activo")){const Re=(ne=(Z=K==null?void 0:K.response)==null?void 0:Z.data)==null?void 0:ne.existingGroup;if(Re)S(Re);else{const Ye=await $.getActiveGroupByUserId(t.albionNick);S(Ye)}m(!0)}else s(be||"Error al crear grupo","error")}},_=async()=>{if(f)if(await $.removeMemberFromGroup(f._id,t.albionNick),m(!1),S(null),p)try{await $.addMemberToGroup(p._id,{albionNick:t.albionNick,username:t.albionNick}),N(null),R()}catch{s("Error al unirse al nuevo grupo","error"),N(null)}else R()},ge=async L=>{try{const F=await $.updateGroup(L._id,L);r(B=>B.map(Z=>Z._id===F._id?F:Z)),s("Grupo actualizado exitosamente","success")}catch{s("Error al actualizar grupo","error")}},re=async L=>{if(window.confirm("¿Estás seguro de que quieres eliminar este grupo?"))try{await $.deleteGroup(L),r(F=>F.filter(B=>B._id!==L)),s("Grupo eliminado exitosamente","success")}catch{s("Error al eliminar grupo","error")}},ie=[{id:1,username:"TankMaster",avatar:"🛡️",role:"Tanque",level:100,experience:"Experto",roles:[{role:"Tanque",weapon:"Espada y Escudo"},{role:"Tanque",weapon:"Martillo"}],gathering:{Mineral:"T8",Madera:"T6",Fibra:"T5"}},{id:2,username:"HealPro",avatar:"💚",role:"Sanador",level:95,experience:"Avanzado",roles:[{role:"Sanador",weapon:"Bastón Sagrado"},{role:"Sanador",weapon:"Bastón de Naturaleza"}],gathering:{Fibra:"T7",Piedra:"T5"}},{id:3,username:"DPSKiller",avatar:"⚔️",role:"DPS",level:88,experience:"Intermedio",roles:[{role:"DPS Melee",weapon:"Espada"},{role:"DPS Melee",weapon:"Daga"}],gathering:{Mineral:"T6",Madera:"T4"}},{id:4,username:"RangedShot",avatar:"🏹",role:"DPS Ranged",level:92,experience:"Avanzado",roles:[{role:"DPS Ranged",weapon:"Arco"},{role:"DPS Ranged",weapon:"Ballesta"}],gathering:{Madera:"T7",Piel:"T5"}},{id:5,username:"SupportMage",avatar:"🔮",role:"Soporte",level:85,experience:"Intermedio",roles:[{role:"Soporte",weapon:"Bastón Arcano"},{role:"Soporte",weapon:"Bastón de Naturaleza"}],gathering:{Fibra:"T6",Piedra:"T4"}},{id:6,username:"Gatherer",avatar:"🌿",role:"Recolector",level:100,experience:"Experto",roles:[],gathering:{Mineral:"T8",Madera:"T8",Fibra:"T8",Piedra:"T8",Piel:"T8",Pescado:"T7"}},{id:7,username:"CraftMaster",avatar:"🔨",role:"Crafteador",level:98,experience:"Experto",roles:[],gathering:{Mineral:"T7",Madera:"T7",Fibra:"T7",Piedra:"T7"}},{id:8,username:"PvPWarrior",avatar:"⚔️",role:"PvP",level:90,experience:"Avanzado",roles:[{role:"DPS Melee",weapon:"Espada"},{role:"DPS Melee",weapon:"Daga"},{role:"DPS Ranged",weapon:"Arco"}],gathering:{Mineral:"T5",Madera:"T4"}},{id:9,username:"DungeonRunner",avatar:"🛡️",role:"PvE",level:87,experience:"Intermedio",roles:[{role:"Tanque",weapon:"Espada y Escudo"},{role:"DPS Melee",weapon:"Espada"}],gathering:{Mineral:"T6",Madera:"T5"}},{id:10,username:"HCEElite",avatar:"🔥",role:"HCE",level:100,experience:"Experto",roles:[{role:"Tanque",weapon:"Martillo"},{role:"Sanador",weapon:"Bastón Sagrado"},{role:"DPS Melee",weapon:"Espada"}],gathering:{Mineral:"T7",Madera:"T6",Fibra:"T6"}}];return n?e.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4 glow",children:"⚔️"}),e.jsx("h2",{className:"text-2xl font-bold text-gradient",children:"Cargando grupos..."})]})}):e.jsx("div",{className:"min-h-screen bg-gray-900 text-white p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center space-x-3",children:[e.jsx(ae,{className:"w-8 h-8 text-blue-400"}),e.jsx("span",{children:"Grupos Abiertos"})]}),e.jsx("p",{className:"text-lg text-gray-400 mt-2",children:"Grupos continuos donde los miembros pueden unirse en cualquier momento. Usa plantillas para organizar actividades."})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("button",{onClick:()=>c(!0),className:"flex items-center space-x-2 px-3 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors",title:"Configuración de Sonido",children:e.jsx(xt,{className:"w-4 h-4"})}),e.jsxs("button",{onClick:()=>i(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[e.jsx(Y,{className:"w-5 h-5"}),e.jsx("span",{children:"Crear Grupo"})]})]})]}),e.jsx(Fr,{groups:a,onUpdateGroup:ge,onDeleteGroup:re,registeredUsers:ie,reloadGroups:R,onBackToList:w,onGroupConflict:E}),o&&e.jsx(Ur,{onClose:()=>i(!1),onCreateGroup:O,currentUser:t}),u&&f&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-dark-800 rounded-lg p-8 max-w-md w-full text-center",children:[e.jsx("h2",{className:"text-xl font-bold mb-4 text-red-400",children:"¡Ya perteneces a un grupo!"}),e.jsx("p",{className:"mb-4",children:"Debes salir de tu grupo actual para poder crear o unirte a otro grupo."}),e.jsxs("div",{className:"mb-4 p-4 bg-dark-700 rounded",children:[e.jsx("div",{className:"font-semibold text-white mb-2",children:"Grupo actual:"}),e.jsx("div",{className:"text-lg text-gold-400",children:f.name}),e.jsxs("div",{className:"text-gray-400",children:["Miembros: ",f.slots?f.slots.filter(L=>L.user).length:0]})]}),e.jsx("button",{onClick:_,className:"btn btn-danger w-full mb-2",children:"Salir de este grupo"}),e.jsx("button",{onClick:()=>m(!1),className:"btn btn-secondary w-full",children:"Cancelar"})]})}),y&&k&&e.jsx(_r,{group:k,isVisible:y,onClose:j,onDismiss:v}),d&&e.jsx(Ir,{isVisible:d,onClose:()=>c(!1)})]})})},De={async getEvents(){return await W.getEvents()},async getUpcomingEvents(){return await W.getUpcomingEvents()},async createEvent(t){return await W.createEvent(t)},async updateEvent(t,s){return await W.updateEvent(t,s)},async deleteEvent(t){return await W.deleteEvent(t)},async confirmAttendance(t,s){return await W.confirmAttendance(t,s)},async cancelAttendance(t,s){return await W.cancelAttendance(t,s)}},Hr=({activity:t,type:s,onEdit:a,onDelete:r,onConfirmAttendance:n,onCancelAttendance:l,showActions:o=!0})=>{var p,N;const i=s==="event",d=g=>{switch(g){case"Dungeon":return"🏰";case"GvG":return"⚔️";case"HCE":return"🔥";case"ZvZ":return"🏛️";case"Gathering":return"🌿";case"Crafting":return"🔨";case"PvP":return"⚡";default:return"🎯"}},c=g=>{if(i)switch(g){case"Programado":return"bg-blue-500/20 text-blue-400";case"En Preparación":return"bg-yellow-500/20 text-yellow-400";case"Activo":return"bg-green-500/20 text-green-400";case"Completado":return"bg-purple-500/20 text-purple-400";case"Cancelado":return"bg-red-500/20 text-red-400";default:return"bg-dark-500/20 text-dark-300"}else switch(g){case"Activo":return"bg-green-500/20 text-green-400";case"Completado":return"bg-purple-500/20 text-purple-400";case"Cancelado":return"bg-red-500/20 text-red-400";default:return"bg-dark-500/20 text-dark-300"}},u=g=>g?new Date(g).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",m=g=>g?new Date(g)>new Date:!1,f=()=>{n&&n(t._id,{userId:"1",username:"Usuario Demo",avatar:"👤",role:"DPS",level:85,experience:"Intermedio"})},S=()=>{l&&l(t._id,"1")};return e.jsxs("div",{className:"card group hover:scale-105",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:"text-4xl",children:d(t.type)}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${c(i?t.eventStatus:t.status)}`,children:i?t.eventStatus:t.status}),i&&m(t.date)&&e.jsx("span",{className:"px-2 py-1 rounded-full text-xs bg-green-500/20 text-green-400",children:"Próximo"})]})]}),e.jsx("h3",{className:"text-xl font-bold mb-2",children:t.name}),e.jsx("p",{className:"text-dark-300 mb-4",children:t.description}),e.jsxs("div",{className:"space-y-3",children:[i&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(bt,{size:16,className:"text-gold-400"}),e.jsx("span",{children:u(t.date)})]}),t.duration&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(jt,{size:16,className:"text-gold-400"}),e.jsx("span",{children:t.duration})]}),t.location&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(ws,{size:16,className:"text-gold-400"}),e.jsx("span",{children:t.location})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(ae,{size:16,className:"text-gold-400"}),e.jsx("span",{children:i?`${((p=t.confirmedMembers)==null?void 0:p.length)||0}/${t.maxMembers} confirmados`:`${t.members.length}/${t.maxMembers} miembros`})]}),t.requirements&&t.requirements.length>0&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-dark-300",children:"Requisitos: "}),e.jsx("span",{className:"font-semibold",children:t.requirements.join(", ")})]}),t.rewards&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-dark-300",children:"Recompensas: "}),e.jsx("span",{className:"font-semibold text-gold-400",children:t.rewards})]})]}),o&&e.jsx("div",{className:"mt-6 flex gap-2",children:i?e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:f,className:"btn btn-success flex-1",disabled:((N=t.confirmedMembers)==null?void 0:N.length)>=t.maxMembers,children:[e.jsx(le,{size:16}),"Confirmar"]}),e.jsxs("button",{onClick:S,className:"btn btn-danger flex-1",children:[e.jsx(Pr,{size:16}),"Cancelar"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>a&&a(t),className:"btn btn-secondary flex-1",children:[e.jsx(ve,{size:16}),"Editar"]}),e.jsxs("button",{onClick:()=>r&&r(t._id),className:"btn btn-danger flex-1",children:[e.jsx(pe,{size:16}),"Eliminar"]})]})})]})},Vr=({onClose:t,onCreateEvent:s})=>{const[a,r]=b.useState({name:"",date:"",time:"",location:"",duration:"",maxMembers:5,description:"",template:null}),[n,l]=b.useState(!1),o=[{id:1,name:"Dungeon 5v5",type:"Dungeon",maxMembers:5,roles:["Tanque","Sanador","DPS","DPS","DPS"]},{id:2,name:"GvG 5v5",type:"GvG",maxMembers:5,roles:["Tanque","Sanador","DPS","DPS","DPS"]},{id:3,name:"HCE 5v5",type:"HCE",maxMembers:5,roles:["Tanque","Sanador","DPS","DPS","DPS"]},{id:4,name:"ZvZ Masivo",type:"ZvZ",maxMembers:20,roles:["Tanque","Sanador","DPS","Soporte"]},{id:5,name:"Gathering Group",type:"Gathering",maxMembers:10,roles:["Recolector"]}],i=(u,m)=>{r(f=>({...f,[u]:m}))},d=u=>{r(m=>({...m,template:u})),l(!1)},c=u=>{if(u.preventDefault(),!a.name||!a.template||!a.date||!a.time){alert("Por favor completa todos los campos obligatorios");return}const m={name:a.name,date:a.date,time:a.time,location:a.location,duration:a.duration,maxMembers:a.maxMembers,description:a.description,template:a.template};s(m)};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-gray-900 rounded-lg shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Y,{className:"w-6 h-6 text-blue-400"}),e.jsx("h2",{className:"text-xl font-bold text-white",children:"Crear Nuevo Evento"})]}),e.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(J,{className:"w-6 h-6"})})]}),e.jsxs("form",{onSubmit:c,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Nombre del Evento"}),e.jsx("input",{type:"text",value:a.name,onChange:u=>i("name",u.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-blue-500 focus:ring-1 focus:ring-blue-500",placeholder:"Ej: Dungeon Martes 8pm",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Plantilla"}),e.jsx("button",{type:"button",className:"btn btn-secondary w-full mb-2",onClick:()=>l(!0),children:a.template?`Plantilla: ${a.template.name}`:"Seleccionar Plantilla"}),n&&e.jsx("div",{className:"bg-gray-800 border border-gray-700 rounded-lg p-4 mt-2 max-h-60 overflow-y-auto",children:o.map(u=>e.jsx("div",{className:"p-2 hover:bg-gray-700 rounded cursor-pointer",onClick:()=>d(u),children:u.name},u.id))})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Fecha"}),e.jsx("input",{type:"date",value:a.date,onChange:u=>i("date",u.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-blue-500 focus:ring-1 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Hora"}),e.jsx("input",{type:"time",value:a.time,onChange:u=>i("time",u.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-blue-500 focus:ring-1 focus:ring-blue-500",required:!0})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Ubicación"}),e.jsx("input",{type:"text",value:a.location,onChange:u=>i("location",u.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-blue-500 focus:ring-1 focus:ring-blue-500",placeholder:"Ej: Martlock, Dungeon T8"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Duración"}),e.jsx("input",{type:"text",value:a.duration,onChange:u=>i("duration",u.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-blue-500 focus:ring-1 focus:ring-blue-500",placeholder:"Ej: 2 horas"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Máximo de Miembros"}),e.jsx("input",{type:"number",value:a.maxMembers,onChange:u=>i("maxMembers",parseInt(u.target.value)),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-blue-500 focus:ring-1 focus:ring-blue-500",min:"1",max:"50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Descripción"}),e.jsx("textarea",{value:a.description,onChange:u=>i("description",u.target.value),className:"w-full px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-blue-500 focus:ring-1 focus:ring-blue-500",rows:"3",placeholder:"Describe la actividad, requisitos, etc."})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{type:"button",className:"btn btn-secondary",onClick:t,children:"Cancelar"}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Crear Evento"})]})]})]})})},Jr=()=>{const{showNotification:t}=ee(),[s,a]=b.useState([]),[r,n]=b.useState(!0),[l,o]=b.useState(""),[i,d]=b.useState("all"),[c,u]=b.useState(!1);b.useEffect(()=>{m()},[]);const m=async()=>{try{n(!0);const y=await De.getEvents();a(y)}catch(y){t("Error al cargar eventos","error"),console.error("Error loading events:",y)}finally{n(!1)}},f=async y=>{try{const k=await De.createEvent(y);a(T=>[k,...T]),t("Evento creado exitosamente","success"),u(!1)}catch{t("Error al crear evento","error")}},S=async(y,k)=>{try{const T=await De.confirmAttendance(y,k);a(A=>A.map(x=>x._id===T._id?T:x)),t("Asistencia confirmada","success")}catch{t("Error al confirmar asistencia","error")}},p=async(y,k)=>{try{const T=await De.cancelAttendance(y,k);a(A=>A.map(x=>x._id===T._id?T:x)),t("Asistencia cancelada","success")}catch{t("Error al cancelar asistencia","error")}},N=[{id:"all",name:"Todos",color:"text-dark-300"},{id:"Programado",name:"Programados",color:"text-blue-400"},{id:"En Preparación",name:"En Preparación",color:"text-yellow-400"},{id:"Activo",name:"Activos",color:"text-green-400"},{id:"Completado",name:"Completados",color:"text-purple-400"},{id:"Cancelado",name:"Cancelados",color:"text-red-400"}],g=s.filter(y=>{var A;const k=y.name.toLowerCase().includes(l.toLowerCase())||((A=y.description)==null?void 0:A.toLowerCase().includes(l.toLowerCase())),T=i==="all"||y.eventStatus===i;return k&&T});return r?e.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4 glow",children:"📅"}),e.jsx("h2",{className:"text-2xl font-bold text-gradient",children:"Cargando eventos..."})]})}):e.jsx("div",{className:"min-h-screen py-8 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold mb-2 text-gradient",children:"Eventos Programados"}),e.jsx("p",{className:"text-xl text-dark-300",children:"Programa eventos con fecha y hora específica. Los miembros pueden confirmar su asistencia."})]}),e.jsx("div",{className:"card mb-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[e.jsx("div",{className:"flex-1 max-w-md",children:e.jsxs("div",{className:"relative",children:[e.jsx(he,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-dark-400",size:20}),e.jsx("input",{type:"text",placeholder:"Buscar eventos...",value:l,onChange:y=>o(y.target.value),className:"input pl-10"})]})}),e.jsx("div",{className:"flex gap-2",children:N.map(y=>e.jsx("button",{onClick:()=>d(y.id),className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all ${i===y.id?"bg-gold-500/20 text-gold-400 border border-gold-500/30":"bg-dark-700/50 text-dark-300 hover:text-white hover:bg-dark-700"}`,children:y.name},y.id))}),e.jsxs("button",{onClick:()=>u(!0),className:"btn btn-primary",children:[e.jsx(Y,{size:20}),"Crear Evento"]})]})}),g.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"📅"}),e.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No hay eventos programados"}),e.jsx("p",{className:"text-gray-400",children:"Crea tu primer evento para comenzar a organizar actividades"})]}):e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:g.map(y=>e.jsx(Hr,{activity:y,type:"event",onConfirmAttendance:S,onCancelAttendance:p},y._id))}),c&&e.jsx(Vr,{onClose:()=>u(!1),onCreateEvent:f})]})})},Zr=({user:t,onClose:s,onEditProfile:a})=>{if(!t)return null;const r=l=>{switch(l){case"Experto":return"text-yellow-400";case"Avanzado":return"text-green-400";case"Intermedio":return"text-blue-400";default:return"text-gray-400"}},n=l=>{switch(l){case"Tanque":return e.jsx(Te,{className:"w-4 h-4"});case"Sanador":return e.jsx(yt,{className:"w-4 h-4"});case"DPS":return e.jsx($t,{className:"w-4 h-4"});case"DPS Ranged":return e.jsx(vt,{className:"w-4 h-4"});case"Soporte":return e.jsx(_e,{className:"w-4 h-4"});case"Recolector":return e.jsx(me,{className:"w-4 h-4"});case"Crafteador":return e.jsx(me,{className:"w-4 h-4"});case"PvP":return e.jsx($t,{className:"w-4 h-4"});case"PvE":return e.jsx(Te,{className:"w-4 h-4"});case"HCE":return e.jsx(_e,{className:"w-4 h-4"});default:return e.jsx(me,{className:"w-4 h-4"})}};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-gray-900 rounded-lg shadow-2xl max-w-md w-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"text-3xl",children:t.avatar}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:t.username}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-lg font-semibold text-blue-400",children:["Lv.",t.level]}),e.jsx("span",{className:"text-gray-400",children:"•"}),e.jsx("span",{className:`font-medium ${r(t.experience)}`,children:t.experience})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("button",{onClick:()=>a(t),className:"flex items-center space-x-1 px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded text-sm transition-colors",children:[e.jsx(ve,{className:"w-4 h-4"}),e.jsx("span",{children:"Editar"})]}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(J,{className:"w-6 h-6"})})]})]}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[n(t.role),e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Rol Principal"})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("span",{className:"text-blue-400 font-medium",children:t.role})})]}),t.roles&&t.roles.length>0&&e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx(Xe,{className:"w-5 h-5"}),e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Roles de Combate"})]}),e.jsx("div",{className:"space-y-2",children:t.roles.map((l,o)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-700 rounded",children:[e.jsx("span",{className:"text-blue-400 font-medium",children:l.role}),e.jsx("span",{className:"text-gray-300",children:l.weapon})]},o))})]}),t.gathering&&Object.keys(t.gathering).length>0&&e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx(Ns,{className:"w-5 h-5"}),e.jsx("h3",{className:"text-lg font-semibold text-white",children:"Recolección"})]}),e.jsx("div",{className:"space-y-2",children:Object.entries(t.gathering).map(([l,o])=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-700 rounded",children:[e.jsx("span",{className:"text-green-400 font-medium",children:l}),e.jsx("span",{className:"text-yellow-400 font-medium",children:o})]},l))})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Estadísticas"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Nivel"}),e.jsx("p",{className:"text-white font-medium",children:t.level})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-400 text-sm",children:"Experiencia"}),e.jsx("p",{className:`font-medium ${r(t.experience)}`,children:t.experience})]})]})]})]})]})})},Wr=[{name:"Tanque",weapons:["Espada y Escudo","Martillo","Maza","Bastón de Cuartos","Espada de Fuego","Martillo de Guerra"]},{name:"Sanador",weapons:["Bastón Sagrado","Bastón de Naturaleza","Bastón Arcano","Bastón de Hielo","Bastón de Fuego","Bastón de Luz"]},{name:"DPS Melee",weapons:["Espada","Daga","Lanza","Hacha","Espada de Fuego","Daga de Hielo","Lanza de Guerra"]},{name:"DPS Ranged",weapons:["Arco","Ballesta","Bastón de Fuego","Bastón de Hielo","Bastón Arcano","Arco de Guerra"]},{name:"Soporte",weapons:["Bastón Arcano","Bastón de Naturaleza","Bastón Sagrado","Bastón de Hielo","Bastón de Fuego","Bastón de Luz"]}],Kr=["Mineral","Madera","Fibra","Piedra","Piel","Pescado"],Xr=["T1","T2","T3","T4","T5","T6","T7","T8"],Ge={combat_roles:Wr,gathering_types:Kr,tiers:Xr},Yr=({user:t,onClose:s,onSave:a})=>{const[r,n]=b.useState({...t,roles:t.roles||[],gathering:t.gathering||{}}),[l,o]=b.useState(!1),[i,d]=b.useState(!1),[c,u]=b.useState(!1),[m,f]=b.useState({role:"",weapon:""}),[S,p]=b.useState({type:"",tier:"T1"}),N=()=>{a(r),o(!1)},g=()=>{m.role&&m.weapon&&(n({...r,roles:[...r.roles,m]}),f({role:"",weapon:""}),d(!1))},y=x=>{const w=r.roles.filter((j,v)=>v!==x);n({...r,roles:w})},k=()=>{S.type&&S.tier&&(n({...r,gathering:{...r.gathering,[S.type]:S.tier}}),p({type:"",tier:"T1"}),u(!1))},T=x=>{const w={...r.gathering};delete w[x],n({...r,gathering:w})},A=x=>{const w=Ge.combat_roles.find(j=>j.name===x);return w?w.weapons:[]};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-gray-900 rounded-lg shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"text-4xl",children:r.avatar}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:r.username}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-lg font-semibold text-blue-400",children:["Lv.",r.level]}),e.jsx("span",{className:"text-gray-400",children:"•"}),e.jsx("span",{className:"text-green-400 font-medium",children:r.experience})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[l?e.jsxs("button",{onClick:N,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",children:[e.jsx(Nt,{className:"w-4 h-4"}),e.jsx("span",{children:"Guardar"})]}):e.jsxs("button",{onClick:()=>o(!0),className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[e.jsx(ve,{className:"w-4 h-4"}),e.jsx("span",{children:"Editar"})]}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white transition-colors",children:e.jsx(J,{className:"w-6 h-6"})})]})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center space-x-2",children:[e.jsx(Xe,{className:"w-5 h-5"}),e.jsx("span",{children:"Roles de Combate"})]}),l&&e.jsxs("button",{onClick:()=>d(!0),className:"flex items-center space-x-2 px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded text-sm transition-colors",children:[e.jsx(Y,{className:"w-4 h-4"}),e.jsx("span",{children:"Agregar Rol"})]})]}),r.roles.length===0?e.jsx("p",{className:"text-gray-400 italic",children:"No hay roles configurados"}):e.jsx("div",{className:"space-y-3",children:r.roles.map((x,w)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-blue-400 font-medium",children:x.role}),e.jsx("span",{className:"text-gray-400",children:"•"}),e.jsx("span",{className:"text-white",children:x.weapon})]}),l&&e.jsx("button",{onClick:()=>y(w),className:"text-red-400 hover:text-red-300 transition-colors",children:e.jsx(pe,{className:"w-4 h-4"})})]},w))}),i&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Agregar Rol"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Rol"}),e.jsxs("select",{value:m.role,onChange:x=>f({...m,role:x.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Seleccionar rol"}),Ge.combat_roles.map(x=>e.jsx("option",{value:x.name,children:x.name},x.name))]})]}),m.role&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Arma"}),e.jsxs("select",{value:m.weapon,onChange:x=>f({...m,weapon:x.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Seleccionar arma"}),A(m.role).map(x=>e.jsx("option",{value:x,children:x},x))]})]})]}),e.jsxs("div",{className:"flex space-x-3 mt-6",children:[e.jsx("button",{onClick:g,disabled:!m.role||!m.weapon,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 text-white rounded-lg transition-colors",children:"Agregar"}),e.jsx("button",{onClick:()=>d(!1),className:"flex-1 px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Cancelar"})]})]})})]}),e.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-white flex items-center space-x-2",children:[e.jsx(Ns,{className:"w-5 h-5"}),e.jsx("span",{children:"Niveles de Recolección"})]}),l&&e.jsxs("button",{onClick:()=>u(!0),className:"flex items-center space-x-2 px-3 py-1 bg-green-600 hover:bg-green-700 text-white rounded text-sm transition-colors",children:[e.jsx(Y,{className:"w-4 h-4"}),e.jsx("span",{children:"Agregar Recolección"})]})]}),Object.keys(r.gathering).length===0?e.jsx("p",{className:"text-gray-400 italic",children:"No hay niveles de recolección configurados"}):e.jsx("div",{className:"space-y-3",children:Object.entries(r.gathering).map(([x,w])=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-700 rounded",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("span",{className:"text-green-400 font-medium",children:x}),e.jsx("span",{className:"text-gray-400",children:"•"}),e.jsx("span",{className:"text-yellow-400 font-medium",children:w})]}),l&&e.jsx("button",{onClick:()=>T(x),className:"text-red-400 hover:text-red-300 transition-colors",children:e.jsx(pe,{className:"w-4 h-4"})})]},x))}),c&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-60",children:e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-white mb-4",children:"Agregar Recolección"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tipo de Recolección"}),e.jsxs("select",{value:S.type,onChange:x=>p({...S,type:x.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Seleccionar tipo"}),Ge.gathering_types.map(x=>e.jsx("option",{value:x,children:x},x))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nivel (Tier)"}),e.jsx("select",{value:S.tier,onChange:x=>p({...S,tier:x.target.value}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:Ge.tiers.map(x=>e.jsx("option",{value:x,children:x},x))})]})]}),e.jsxs("div",{className:"flex space-x-3 mt-6",children:[e.jsx("button",{onClick:k,disabled:!S.type,className:"flex-1 px-4 py-2 bg-green-600 hover:bg-green-700 disabled:bg-gray-600 text-white rounded-lg transition-colors",children:"Agregar"}),e.jsx("button",{onClick:()=>u(!1),className:"flex-1 px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Cancelar"})]})]})})]})]})]})})},Qr=()=>{const{showNotification:t}=ee(),[s,a]=b.useState(""),[r,n]=b.useState("0"),[l,o]=b.useState("4"),[i,d]=b.useState("equal"),[c,u]=b.useState([]),[m,f]=b.useState([]),[S,p]=b.useState(!1),[N,g]=b.useState({total:0,repair:0,net:0}),[y,k]=b.useState(null),[T,A]=b.useState(""),[x,w]=b.useState([]),[j,v]=b.useState(!1),[E,R]=b.useState(null),[O,_]=b.useState(!1),[ge,re]=b.useState(null),ie=[{id:1,username:"TankMaster",avatar:"🛡️",role:"Tanque",level:100,experience:"Experto",roles:[{role:"Tanque",weapon:"Espada y Escudo"},{role:"Tanque",weapon:"Martillo"}],gathering:{Mineral:"T8",Madera:"T6",Fibra:"T5"}},{id:2,username:"HealPro",avatar:"💚",role:"Sanador",level:95,experience:"Avanzado",roles:[{role:"Sanador",weapon:"Bastón Sagrado"},{role:"Sanador",weapon:"Bastón de Naturaleza"}],gathering:{Fibra:"T7",Piedra:"T5"}},{id:3,username:"DPSKiller",avatar:"⚔️",role:"DPS",level:88,experience:"Intermedio",roles:[{role:"DPS Melee",weapon:"Espada"},{role:"DPS Melee",weapon:"Daga"}],gathering:{Mineral:"T6",Madera:"T4"}},{id:4,username:"RangedShot",avatar:"🏹",role:"DPS Ranged",level:92,experience:"Avanzado",roles:[{role:"DPS Ranged",weapon:"Arco"},{role:"DPS Ranged",weapon:"Ballesta"}],gathering:{Madera:"T7",Piel:"T5"}},{id:5,username:"SupportMage",avatar:"🔮",role:"Soporte",level:85,experience:"Intermedio",roles:[{role:"Soporte",weapon:"Bastón Arcano"},{role:"Soporte",weapon:"Bastón de Naturaleza"}],gathering:{Fibra:"T6",Piedra:"T4"}},{id:6,username:"Gatherer",avatar:"🌿",role:"Recolector",level:100,experience:"Experto",roles:[],gathering:{Mineral:"T8",Madera:"T8",Fibra:"T8",Piedra:"T8",Piel:"T8",Pescado:"T7"}},{id:7,username:"CraftMaster",avatar:"🔨",role:"Crafteador",level:98,experience:"Experto",roles:[],gathering:{Mineral:"T7",Madera:"T7",Fibra:"T7",Piedra:"T7"}},{id:8,username:"PvPWarrior",avatar:"⚔️",role:"PvP",level:90,experience:"Avanzado",roles:[{role:"DPS Melee",weapon:"Espada"},{role:"DPS Melee",weapon:"Daga"},{role:"DPS Ranged",weapon:"Arco"}],gathering:{Mineral:"T5",Madera:"T4"}},{id:9,username:"DungeonRunner",avatar:"🛡️",role:"PvE",level:87,experience:"Intermedio",roles:[{role:"Tanque",weapon:"Espada y Escudo"},{role:"DPS Melee",weapon:"Espada"}],gathering:{Mineral:"T6",Madera:"T5"}},{id:10,username:"HCEElite",avatar:"🔥",role:"HCE",level:100,experience:"Experto",roles:[{role:"Tanque",weapon:"Martillo"},{role:"Sanador",weapon:"Bastón Sagrado"},{role:"DPS Melee",weapon:"Espada"}],gathering:{Mineral:"T7",Madera:"T6",Fibra:"T6"}}];b.useEffect(()=>{i==="custom"?L():u([])},[i,l]),b.useEffect(()=>{F()},[s,r]),b.useEffect(()=>{if(T.trim()==="")w(ie);else{const C=ie.filter(D=>D.username.toLowerCase().includes(T.toLowerCase())||D.role.toLowerCase().includes(T.toLowerCase())||D.experience.toLowerCase().includes(T.toLowerCase()));w(C)}},[T]);const L=()=>{const C=parseInt(l);if(isNaN(C)||C<1||C>20){u([]);return}const D=[];for(let G=0;G<C;G++)D.push({id:G,name:"",participation:"",selectedUser:null});u(D)},F=()=>{const C=parseFloat(s)||0,D=parseFloat(r)||0,G=C-D;g({total:C,repair:D,net:G})},B=(C,D,G)=>{const te=[...c];te[C][D]=G,u(te)},Z=C=>{k(C),A(""),w(ie)},ne=(C,D)=>{const G=[...c];G[D]={...G[D],name:C.username,selectedUser:C},u(G),k(null),A(""),t(`Usuario ${C.username} seleccionado`,"success")},K=C=>{const D=[...c];D[C]={...D[C],name:"",selectedUser:null},u(D)},be=C=>{R(C),v(!0)},Re=C=>{re(C),_(!0)},Ye=C=>{ie.map(D=>D.id===C.id?C:D),console.log("Usuario actualizado:",C),t("Perfil actualizado correctamente","success"),_(!1),re(null)},Es=()=>c.filter(C=>C.selectedUser).length,Ts=()=>{if(!s||parseFloat(s)<=0)return t("Ingresa un monto válido de ganancias","error"),!1;if(parseFloat(r)>parseFloat(s))return t("Los gastos de reparación no pueden ser mayores a las ganancias totales","error"),!1;if(i==="custom"){let C=0,D=!0,G=!1;if(c.forEach(te=>{const Qe=parseFloat(te.participation)||0;C+=Qe,Qe>0&&(G=!0),(!te.name.trim()||te.participation==="")&&(D=!1)}),!D)return t("Completa todos los campos de los integrantes","error"),!1;if(!G)return t("Debe haber al menos un aporte mayor a 0","error"),!1;if(Math.abs(C-100)>.1)return t(`La participación total debe ser 100% (actual: ${C.toFixed(1)}%)`,"error"),!1}return!0},Ps=()=>{if(!Ts())return;const C=parseFloat(s),D=parseFloat(r)||0,G=C-D;let te=[];if(i==="equal"){const oe=parseInt(l),je=G/oe;for(let ke=0;ke<oe;ke++)te.push({name:`Integrante ${ke+1}`,participation:(100/oe).toFixed(1),amount:je})}else{let oe=0;c.forEach(je=>{oe+=parseFloat(je.participation)||0}),c.forEach(je=>{const ke=je.name.trim(),wt=parseFloat(je.participation)||0,Rs=oe>0?G*wt/oe:0;te.push({name:ke,participation:wt,amount:Rs})})}f(te),p(!0),t(`Distribución ${i==="equal"?"equitativa":"proporcional"} calculada exitosamente`,"success")},As=()=>{a(""),n("0"),o("4"),d("equal"),u([]),f([]),p(!1),g({total:0,repair:0,net:0}),k(null),A(""),t("Calculadora reiniciada","info")},Me=C=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0}).format(C);return e.jsxs("div",{className:"min-h-screen py-8 px-4",children:[e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"text-6xl mb-4 glow",children:"💰"}),e.jsx("h1",{className:"text-4xl font-bold mb-4 text-gradient",children:"Calculadora de Loot"}),e.jsx("p",{className:"text-xl text-dark-300",children:"Reparte ganancias equitativamente en Albion Online"})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"space-y-6 mb-8",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx(wr,{size:24,className:"text-gold-400"}),"Total de Ganancias (Plata)"]}),e.jsx("input",{type:"number",value:s,onChange:C=>a(C.target.value),placeholder:"Ingresa el total de plata",className:"input",min:"0",step:"1"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx(Ke,{size:24,className:"text-gold-400"}),"Gastos de Reparación (Plata)",e.jsx("span",{className:"text-sm text-dark-400 font-normal",children:"(Opcional)"})]}),e.jsx("input",{type:"number",value:r,onChange:C=>n(C.target.value),placeholder:"0",className:"input",min:"0",step:"1"}),e.jsx("small",{className:"text-dark-400 text-sm mt-1 block",children:"Deja en 0 si no hay gastos de reparación"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-lg font-semibold mb-3 flex items-center gap-2",children:[e.jsx(ae,{size:24,className:"text-gold-400"}),"Número de Integrantes"]}),e.jsx("input",{type:"number",value:l,onChange:C=>o(C.target.value),placeholder:"Cantidad de miembros",className:"input",min:"1",max:"20"})]}),e.jsxs("div",{className:"bg-dark-700/30 rounded-xl p-6 border border-dark-600/50",children:[e.jsxs("h4",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(qe,{size:24,className:"text-gold-400"}),"Opciones de Distribución"]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("button",{onClick:()=>d("equal"),className:`btn flex-1 ${i==="equal"?"btn-primary":"btn-secondary"}`,children:[e.jsx(Bt,{size:20}),"Distribución Equitativa"]}),e.jsxs("button",{onClick:()=>d("custom"),className:`btn flex-1 ${i==="custom"?"btn-primary":"btn-secondary"}`,children:[e.jsx(ae,{size:20}),"Participación Personalizada"]})]}),e.jsx("small",{className:"text-dark-400 text-sm mt-2 block",children:"Elige si todos participan igual o con porcentajes diferentes"})]})]}),i==="custom"&&c.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("h3",{className:"text-xl font-semibold flex items-center gap-2",children:[e.jsx(ae,{size:24,className:"text-gold-400"}),"Participación por Integrante"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:()=>v(!j),className:"btn btn-secondary btn-sm",title:"Ver estadísticas de usuarios",children:[e.jsx(Cr,{size:16}),j?"Ocultar":"Mostrar"," Stats"]}),e.jsxs("div",{className:"text-sm text-dark-300",children:[Es(),"/",c.length," usuarios seleccionados"]})]})]}),j&&e.jsxs("div",{className:"mb-6 p-4 bg-dark-700/30 rounded-lg border border-dark-600/50",children:[e.jsx("h4",{className:"font-semibold mb-3 text-gold-400",children:"Usuarios Registrados Disponibles"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:ie.map(C=>e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-dark-700/50 rounded-lg",children:[e.jsx("span",{className:"text-xl",children:C.avatar}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-semibold text-sm truncate",children:C.username}),e.jsxs("div",{className:"text-xs text-dark-300",children:[C.role," • Lv.",C.level]})]})]},C.id))})]}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:c.map((C,D)=>e.jsxs("div",{className:"card relative",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("label",{className:"block font-semibold",children:["Integrante ",D+1]}),e.jsxs("div",{className:"flex items-center gap-2",children:[C.selectedUser&&e.jsx("span",{className:"text-2xl",children:C.selectedUser.avatar}),e.jsx("button",{onClick:()=>Z(D),className:"btn btn-secondary btn-sm",title:"Buscar usuario registrado",children:e.jsx(he,{size:16})}),C.selectedUser&&e.jsx("button",{onClick:()=>K(D),className:"btn btn-danger btn-sm",title:"Limpiar selección",children:e.jsx(J,{size:16})})]})]}),e.jsx("input",{type:"text",value:C.name,onChange:G=>B(D,"name",G.target.value),placeholder:C.selectedUser?C.selectedUser.username:"Nombre del integrante",className:"input mb-3"}),e.jsx("label",{className:"block font-semibold mb-2",children:"Participación (%)"}),e.jsx("input",{type:"number",value:C.participation,onChange:G=>B(D,"participation",G.target.value),placeholder:"0",className:"input",min:"0",max:"100",step:"0.1"}),y===D&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-dark-800 border border-dark-600 rounded-lg shadow-xl z-50",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx(he,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-dark-400",size:16}),e.jsx("input",{type:"text",placeholder:"Buscar usuarios por nombre, rol o experiencia...",value:T,onChange:G=>A(G.target.value),className:"input pl-10",autoFocus:!0})]}),e.jsx("div",{className:"max-h-48 overflow-y-auto space-y-2",children:x.map(G=>e.jsxs("button",{onClick:()=>ne(G,D),className:"w-full p-3 text-left hover:bg-dark-700 rounded-lg flex items-center gap-3 transition-colors",children:[e.jsx("span",{className:"text-2xl",children:G.avatar}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold",children:G.username}),e.jsxs("div",{className:"text-sm text-dark-300",children:[G.role," • Lv.",G.level," • ",G.experience]})]}),e.jsx(Ss,{size:16,className:"text-gold-400"})]},G.id))}),e.jsx("div",{className:"mt-4 pt-4 border-t border-dark-600",children:e.jsx("button",{onClick:()=>k(null),className:"btn btn-secondary w-full",children:"Cancelar"})})]})})]},C.id))})]}),e.jsxs("div",{className:"bg-dark-700/30 rounded-xl p-6 border border-dark-600/50 mb-8",children:[e.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[e.jsx(Bt,{size:24,className:"text-gold-400"}),"Resumen Financiero"]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:Me(N.total)}),e.jsx("div",{className:"text-dark-300",children:"Ganancias Totales"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-400",children:Me(N.repair)}),e.jsx("div",{className:"text-dark-300",children:"Gastos de Reparación"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-400",children:Me(N.net)}),e.jsx("div",{className:"text-dark-300",children:"Ganancias Netas"})]})]})]}),S&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("h3",{className:"text-xl font-semibold mb-6 flex items-center gap-2",children:[e.jsx(qe,{size:24,className:"text-gold-400"}),"Resultados del Reparto"]}),e.jsx("div",{className:"grid gap-4",children:m.map((C,D)=>e.jsxs("div",{className:"card flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-lg",children:C.name}),e.jsxs("div",{className:"text-dark-300",children:[C.participation,"% de participación"]})]}),e.jsx("div",{className:"text-2xl font-bold text-gradient",children:Me(C.amount)})]},D))})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("button",{onClick:Ps,className:"btn btn-success flex-1",disabled:!s||parseFloat(s)<=0,children:[e.jsx(qe,{size:20}),"Calcular Reparto"]}),e.jsxs("button",{onClick:As,className:"btn btn-secondary flex-1",children:[e.jsx(Tr,{size:20}),"Reiniciar"]})]})]})]}),y!==null&&e.jsx(Cs,{isOpen:y!==null,onClose:()=>k(null),searchTerm:T,setSearchTerm:A,filteredUsers:x,onSelectUser:C=>ne(C,y),onClearSelection:()=>K(y),onViewStats:be}),j&&e.jsx(Zr,{user:E,onClose:()=>{v(!1),R(null)},onEditProfile:Re}),O&&e.jsx(Yr,{user:ge,onClose:()=>{_(!1),re(null)},onSave:Ye})]})},en=()=>{const[t,s]=b.useState(""),[a,r]=b.useState("all"),n=[{id:"dungeon-5",name:"Dungeon 5 Jugadores",description:"Grupo estándar para dungeons de 5 jugadores",category:"PvE",maxMembers:5,roles:[{name:"Tanque",required:1,max:1,icon:"🛡️"},{name:"Sanador",required:1,max:1,icon:"💚"},{name:"DPS Melee",required:1,max:2,icon:"⚔️"},{name:"DPS Ranged",required:1,max:2,icon:"🏹"}],icon:"🛡️"},{id:"dungeon-10",name:"Dungeon 10 Jugadores",description:"Grupo para dungeons grandes de 10 jugadores",category:"PvE",maxMembers:10,roles:[{name:"Tanque Principal",required:1,max:1,icon:"🛡️"},{name:"Tanque Secundario",required:1,max:1,icon:"🛡️"},{name:"Sanador Principal",required:1,max:1,icon:"💚"},{name:"Sanador Secundario",required:1,max:1,icon:"💚"},{name:"DPS Melee",required:2,max:4,icon:"⚔️"},{name:"DPS Ranged",required:2,max:4,icon:"🏹"}],icon:"🛡️"},{id:"gvg-20",name:"GvG 20 Jugadores",description:"Guerra de gremios estándar",category:"PvP",maxMembers:20,roles:[{name:"Tanque",required:3,max:5,icon:"🛡️"},{name:"Sanador",required:4,max:6,icon:"💚"},{name:"DPS Melee",required:6,max:8,icon:"⚔️"},{name:"DPS Ranged",required:4,max:6,icon:"🏹"},{name:"Soporte",required:3,max:5,icon:"🔮"}],icon:"⚔️"},{id:"hce-5",name:"HCE 5 Jugadores",description:"Hardcore Expeditions",category:"PvE",maxMembers:5,roles:[{name:"Tanque",required:1,max:1,icon:"🛡️"},{name:"Sanador",required:1,max:1,icon:"💚"},{name:"DPS",required:3,max:3,icon:"⚔️"}],icon:"🔥"},{id:"gathering-10",name:"Gathering 10 Jugadores",description:"Recolección en grupo",category:"Gathering",maxMembers:10,roles:[{name:"Recolector",required:8,max:10,icon:"🌿"},{name:"Protector",required:2,max:2,icon:"🛡️"}],icon:"🌿"},{id:"crafting-5",name:"Crafting 5 Jugadores",description:"Crafteo especializado",category:"Crafting",maxMembers:5,roles:[{name:"Crafteador",required:3,max:4,icon:"🔨"},{name:"Recolector",required:1,max:2,icon:"🌿"}],icon:"🔨"}],l=[{id:"all",name:"Todas",icon:"📋"},{id:"pve",name:"PvE",icon:"🛡️"},{id:"pvp",name:"PvP",icon:"⚔️"},{id:"gathering",name:"Recolección",icon:"🌿"},{id:"crafting",name:"Crafting",icon:"🔨"}],o=n.filter(i=>{const d=i.name.toLowerCase().includes(t.toLowerCase())||i.description.toLowerCase().includes(t.toLowerCase()),c=a==="all"||i.category.toLowerCase()===a;return d&&c});return e.jsx("div",{className:"min-h-screen py-8 px-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold mb-2 text-gradient",children:"Plantillas de Grupos"}),e.jsx("p",{className:"text-xl text-dark-300",children:"Plantillas predefinidas para diferentes tipos de actividades en Albion Online"})]}),e.jsx("div",{className:"card mb-8",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[e.jsx("div",{className:"flex-1 max-w-md",children:e.jsxs("div",{className:"relative",children:[e.jsx(he,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-dark-400",size:20}),e.jsx("input",{type:"text",placeholder:"Buscar plantillas...",value:t,onChange:i=>s(i.target.value),className:"input pl-10"})]})}),e.jsx("div",{className:"flex gap-2",children:l.map(i=>e.jsxs("button",{onClick:()=>r(i.id),className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all ${a===i.id?"bg-gold-500/20 text-gold-400 border border-gold-500/30":"bg-dark-700/50 text-dark-300 hover:text-white hover:bg-dark-700"}`,children:[e.jsx("span",{children:i.icon}),i.name]},i.id))}),e.jsxs("button",{className:"btn btn-primary",children:[e.jsx(Y,{size:20}),"Crear Plantilla"]})]})}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(i=>e.jsxs("div",{className:"card group hover:scale-105",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:"text-4xl",children:i.icon}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"p-1 hover:bg-dark-700 rounded",title:"Copiar plantilla",children:e.jsx(Ut,{size:16,className:"text-dark-400"})}),e.jsx("button",{className:"p-1 hover:bg-dark-700 rounded",title:"Editar plantilla",children:e.jsx(ve,{size:16,className:"text-dark-400"})}),e.jsx("button",{className:"p-1 hover:bg-dark-700 rounded",title:"Eliminar plantilla",children:e.jsx(pe,{size:16,className:"text-dark-400"})})]})]}),e.jsx("h3",{className:"text-xl font-bold mb-2",children:i.name}),e.jsx("p",{className:"text-dark-300 mb-4",children:i.description}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-dark-300",children:"Categoría:"}),e.jsx("span",{className:"font-semibold",children:i.category})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-dark-300",children:"Miembros:"}),e.jsx("span",{className:"font-semibold",children:i.maxMembers})]}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-dark-300",children:"Roles:"}),e.jsx("div",{className:"mt-2 space-y-1",children:i.roles.map((d,c)=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{children:d.icon}),d.name]}),e.jsxs("span",{className:"text-dark-400",children:[d.required,"-",d.max]})]},c))})]})]}),e.jsxs("div",{className:"mt-6 flex gap-2",children:[e.jsxs("button",{className:"btn btn-secondary flex-1",children:[e.jsx(Ut,{size:16}),"Usar Plantilla"]}),e.jsxs("button",{className:"btn btn-primary flex-1",children:[e.jsx(ve,{size:16}),"Personalizar"]})]})]},i.id))}),o.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"text-6xl mb-4",children:"📋"}),e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"No se encontraron plantillas"}),e.jsx("p",{className:"text-dark-300 mb-6",children:t||a!=="all"?"Intenta ajustar los filtros de búsqueda":"Crea tu primera plantilla para comenzar"}),e.jsxs("button",{className:"btn btn-primary",children:[e.jsx(Y,{size:20}),"Crear Primera Plantilla"]})]})]})})},tn=()=>{var A,x,w,j;const{user:t,updateProfile:s}=fe(),{showNotification:a}=ee(),[r,n]=b.useState(!1),[l,o]=b.useState(!1),[i,d]=b.useState({roles:(t==null?void 0:t.roles)||[],gathering:(t==null?void 0:t.gathering)||{mineral:"T1",madera:"T1",fibra:"T1",piedra:"T1",piel:"T1",pescado:"T1"},guild:(t==null?void 0:t.guild)||"",alliance:(t==null?void 0:t.alliance)||"",city:(t==null?void 0:t.city)||""}),[c,u]=b.useState({type:"",isPrimary:!1}),m=[{value:"Tank",label:"Tank",icon:Te},{value:"Curador",label:"Curador",icon:yt},{value:"DPS Melee",label:"DPS Melee",icon:Xe},{value:"DPS Ranged",label:"DPS Ranged",icon:vt},{value:"Support",label:"Support",icon:_e}],f=["T1","T2","T3","T4","T5","T6","T7","T8"];b.useEffect(()=>{t&&d({roles:t.roles||[],gathering:t.gathering||{mineral:"T1",madera:"T1",fibra:"T1",piedra:"T1",piel:"T1",pescado:"T1"},guild:t.guild||"",alliance:t.alliance||"",city:t.city||""})},[t]);const S=(v,E)=>{d({...i,[v]:E})},p=(v,E)=>{d({...i,gathering:{...i.gathering,[v]:E}})},N=()=>{if(!c.type){a("Selecciona un tipo de rol","error");return}i.roles.length===0&&(c.isPrimary=!0),d({...i,roles:[...i.roles,{...c}]}),u({type:"",isPrimary:!1})},g=v=>{const E=i.roles.filter((R,O)=>O!==v);E.length>0&&!E.some(R=>R.isPrimary)&&(E[0].isPrimary=!0),d({...i,roles:E})},y=v=>{const E=i.roles.map((R,O)=>({...R,isPrimary:O===v}));d({...i,roles:E})},k=async()=>{n(!0);try{await s(i),o(!1),a("Perfil actualizado exitosamente","success")}catch{a("Error al actualizar perfil","error")}finally{n(!1)}},T=v=>{const E=m.find(R=>R.value===v);return E?E.icon:me};return t?e.jsx("div",{className:"min-h-screen bg-gray-900 text-white py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gradient mb-2",children:"Mi Perfil"}),e.jsx("p",{className:"text-gray-400",children:"Gestiona tu información y roles"})]}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gradient",children:"Información Personal"}),e.jsxs("button",{onClick:()=>o(!l),className:"btn btn-secondary",children:[l?e.jsx(J,{size:20}):e.jsx(ve,{size:20}),l?"Cancelar":"Editar"]})]}),e.jsx("div",{className:"grid md:grid-cols-1 gap-6",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Nick de Albion"}),e.jsx("div",{className:"text-lg font-semibold text-blue-400",children:t.albionNick})]})}),l&&e.jsx("div",{className:"mt-6",children:e.jsxs("button",{onClick:k,disabled:r,className:"btn btn-primary",children:[e.jsx(Nt,{size:16}),r?"Guardando...":"Guardar Cambios"]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-2xl font-bold text-gradient mb-6",children:"Roles de Combate"}),i.roles.length>0&&e.jsx("div",{className:"space-y-3 mb-6",children:i.roles.map((v,E)=>{const R=T(v.type);return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-dark-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(R,{size:20,className:"text-blue-400"}),e.jsx("span",{className:`px-2 py-1 rounded text-xs ${v.isPrimary?"bg-gold-500/20 text-gold-400":"bg-gray-500/20 text-gray-400"}`,children:v.isPrimary?"Principal":"Secundario"}),e.jsx("span",{className:"font-medium",children:v.type})]}),l&&e.jsxs("div",{className:"flex gap-2",children:[!v.isPrimary&&e.jsx("button",{onClick:()=>y(E),className:"text-xs text-blue-400 hover:text-blue-300",children:"Principal"}),e.jsx("button",{onClick:()=>g(E),className:"text-red-400 hover:text-red-300",children:e.jsx(pe,{size:16})})]})]},E)})}),l&&e.jsxs("div",{className:"p-4 border border-gray-600 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-gray-300 mb-4",children:"Agregar nuevo rol:"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("select",{value:c.type,onChange:v=>u({...c,type:v.target.value}),className:"input flex-1",children:[e.jsx("option",{value:"",children:"Seleccionar rol"}),m.map(v=>e.jsx("option",{value:v.value,children:v.label},v.value))]}),e.jsxs("button",{onClick:N,className:"btn btn-secondary",disabled:!c.type,children:[e.jsx(Y,{size:16}),"Agregar"]})]})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-2xl font-bold text-gradient mb-6",children:"Recursos de Recolección"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:Object.entries(i.gathering).map(([v,E])=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2 capitalize",children:v}),l?e.jsx("select",{value:E,onChange:R=>p(v,R.target.value),className:"input w-full",children:f.map(R=>e.jsx("option",{value:R,children:R},R))}):e.jsx("div",{className:"text-lg font-semibold text-green-400",children:E})]},v))})]}),e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-2xl font-bold text-gradient mb-6",children:"Información Adicional"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Gremio"}),l?e.jsx("input",{type:"text",value:i.guild,onChange:v=>S("guild",v.target.value),placeholder:"Nombre del gremio",className:"input w-full"}):e.jsx("div",{className:"text-lg font-semibold text-purple-400",children:i.guild&&i.guild.trim()!==""?i.guild:"No especificado"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Alianza"}),l?e.jsx("input",{type:"text",value:i.alliance,onChange:v=>S("alliance",v.target.value),placeholder:"Nombre de la alianza",className:"input w-full"}):e.jsx("div",{className:"text-lg font-semibold text-orange-400",children:i.alliance&&i.alliance.trim()!==""?i.alliance:"No especificado"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Ciudad Principal"}),l?e.jsx("input",{type:"text",value:i.city,onChange:v=>S("city",v.target.value),placeholder:"Bridgewatch, Martlock, etc.",className:"input w-full"}):e.jsx("div",{className:"text-lg font-semibold text-cyan-400",children:i.city&&i.city.trim()!==""?i.city:"No especificado"})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-xl font-bold text-gradient mb-4",children:"Estadísticas"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Actividades"}),e.jsx("span",{className:"font-semibold text-blue-400",children:((A=t.stats)==null?void 0:A.activitiesJoined)||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Eventos"}),e.jsx("span",{className:"font-semibold text-green-400",children:((x=t.stats)==null?void 0:x.eventsConfirmed)||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Loot Compartido"}),e.jsx("span",{className:"font-semibold text-yellow-400",children:((w=t.stats)==null?void 0:w.totalLootShared)||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Reputación"}),e.jsx("span",{className:"font-semibold text-purple-400",children:((j=t.stats)==null?void 0:j.reputation)||0})]})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-xl font-bold text-gradient mb-4",children:"Información de Cuenta"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Miembro desde"}),e.jsx("span",{className:"font-semibold text-gray-300",children:new Date(t.createdAt).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Último login"}),e.jsx("span",{className:"font-semibold text-gray-300",children:new Date(t.lastLogin).toLocaleDateString()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-400",children:"Perfil completo"}),e.jsx("span",{className:`font-semibold ${t.profileCompleted?"text-green-400":"text-red-400"}`,children:t.profileCompleted?"Sí":"No"})]})]})]})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"⚔️"}),e.jsx("h2",{className:"text-2xl font-bold",children:"Cargando perfil..."})]})})},sn=({children:t})=>{const{user:s,loading:a}=fe();return a?e.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4 glow",children:"⚔️"}),e.jsx("h2",{className:"text-2xl font-bold text-gradient",children:"Verificando autenticación..."})]})}):s?s.isAdmin?t:e.jsx(ye,{to:"/dashboard",replace:!0}):e.jsx(ye,{to:"/auth",replace:!0})},an=()=>{const{user:t,loading:s}=fe(),[a,r]=b.useState(!0);return b.useEffect(()=>{setTimeout(()=>{r(!1)},1e3)},[]),a||s?e.jsx("div",{className:"min-h-screen bg-albion-bg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl mb-4 glow",children:"⚔️"}),e.jsx("h1",{className:"text-2xl font-bold text-gradient",children:"Albion Group Manager"}),e.jsx("p",{className:"text-dark-300 mt-2",children:"Cargando..."})]})}):t?e.jsx(St,{children:e.jsxs("div",{className:"min-h-screen bg-albion-bg",children:[e.jsx(Ar,{}),e.jsx("main",{className:"pt-20",children:e.jsxs(kt,{children:[e.jsx(X,{path:"/",element:e.jsx(ye,{to:"/dashboard",replace:!0})}),e.jsx(X,{path:"/dashboard",element:e.jsx(Lr,{})}),e.jsx(X,{path:"/groups",element:e.jsx($r,{})}),e.jsx(X,{path:"/events",element:e.jsx(Jr,{})}),e.jsx(X,{path:"/calculator",element:e.jsx(Qr,{})}),e.jsx(X,{path:"/templates",element:e.jsx(sn,{children:e.jsx(en,{})})}),e.jsx(X,{path:"/profile",element:e.jsx(tn,{})}),e.jsx(X,{path:"/auth",element:e.jsx(ye,{to:"/dashboard",replace:!0})}),e.jsx(X,{path:"*",element:e.jsx(ye,{to:"/dashboard",replace:!0})})]})})]})}):e.jsx(St,{children:e.jsxs(kt,{children:[e.jsx(X,{path:"/auth",element:e.jsx(Gr,{onAuthSuccess:()=>window.location.href="/dashboard"})}),e.jsx(X,{path:"*",element:e.jsx(ye,{to:"/auth",replace:!0})})]})})};function rn(){return e.jsx(br,{children:e.jsx(jr,{children:e.jsx(an,{})})})}rt.createRoot(document.getElementById("root")).render(e.jsx(Ds.StrictMode,{children:e.jsx(rn,{})}));
